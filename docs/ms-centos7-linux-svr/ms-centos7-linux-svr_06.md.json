["```\n$ sudo yum install bridge-utils SDL net-tools\n\n```", "```\n$ sudo yum install centos-release-xen\n\n```", "```\n$ sudo yum install xen\n\n```", "```\n$ ls \u2013l /boot/xen.gz\n\n```", "```\nlrwxrwxrwx. 1 root root       12 Aug 23 02:10 /boot/xen.gz -> xen-4.5.1.gz\n\n```", "```\n$ sudo yum install kernel-xen\n\n```", "```\n$ sudo nano /etc/sysconfig/selinux\n\n```", "```\nSELINUX=enforcing\n\n```", "```\nSELINUX=disabled\n\n```", "```\n$ sudo cat /var/log/messages\n\n```", "```\n$ sudo grep xend /var/log/audit/audit.log | audit2allow -M custom_xen\n$ sudo semodule -i custom_xen.pp\n\n```", "```\n$ sudo xl info\n\n```", "```\n$ sudo yum install bridge-utils tunctl wget vim-enhanced rsync openssh-clients libvirt python-virtinst libvirt-daemon-xen \n\n```", "```\n$ sudo nano /etc/sysconfig/network-scripts/ifcfg-brid0\n\n```", "```\nDEVICE=brid0\nTYPE=Bridge\nBOOTPROTO=dhcp\nONBOOT=yes\n\n```", "```\n$ sudo nano /etc/sysconfig/network-scripts/ifcfg-eth0\nDEVICE=eth0\nHWADDR=XX:XX:XX:XX:XX:XX\nONBOOT=yes\nTYPE=Ethernet\nIPV6INIT=no\nUSERCTL=no\nBRIDGE=brid0\n\n```", "```\n$ sudo dd if=/dev/zero of=Centos.img bs=4K count=0 seek=1024K\nqemu-img create -f raw Centos.img 8G\n\n```", "```\n$ sudo nano ks.cfg\n\n```", "```\nkernel = \"/boot/vmlinuz-xen-install\"\nramdisk = \"/boot/initrd-xen-install\"\nextra = \"text\"\nname = \"mailserver\"\nmemory = \"256\"\ndisk = [ 'tap:aio:/srv/xen/mailserver.img,xvda,w', ]\nvif = [ 'bridge=brid0', ]\nvcpus=1\non_reboot = 'destroy'\non_crash = 'destroy'\n\n```", "```\n$ sudo virt-install -d -n CentOS7VM1 -r 1024 --vcpus=2 \\\n--bridge=brid0 --disk ./Centos.img \\\n--nographics -p -l \"./Centos\" \\\n--extra-args=\"text console=com1 utf8 console=hvc0 ks=./ks.cfg\"\n\n```", "```\n    $ sudo xm console CentOS7VM1\n\n    ```", "```\n    $ sudo xm shutdown CentOS7VM1\n    $ sudo xm reboot CentOS7VM1\n\n    ```", "```\n    $ sudo xm destroy CentOS7VM1\n\n    ```", "```\n    $ sudo xm suspend CentOS7VM1\n    $ sudo xm resume CentOS7VM1\n\n    ```", "```\n    $ sudo xm rename CentOS7VM1 CentOS7VM2\n\n    ```", "```\n    $ sudo xm pause CentOS7VM1\n    $ sudo xm unpause CentOS7VM1\n\n    ```", "```\n$ sudo grep -e '(vmx|svm)' /proc/cpuinfo\n\n```", "```\n$ sudo yum update\n\n```", "```\n$ sudo nano /etc/sysconfig/selinux\n\n```", "```\nSELINUX=enforcing\n\n```", "```\nSELINUX=permissive\n\n```", "```\n$ sudo yum install qemu-img qemu-kvm \n\n```", "```\n$ sudo yum install virt-manager libvirt libvirt-python libvirt-client xauth dejavu-lgc-sans-fonts\n\n```", "```\n$ sudo yum groupinstall virtualization-client virtualization-tools virtualization-platform \n\n```", "```\n$ sudo systemctl restart libvirtd\n\n```", "```\n$ sudo systemctl status libvirtd\n\n```", "```\n$ sudo echo \"net.ipv4.ip_forward = 1\"|sudo tee /etc/sysctl.d/99-ipforward.conf\n\n```", "```\n$ sudo sysctl -p /etc/sysctl.d/99-ipforward.conf\n\n```", "```\n$ sudo nano /etc/sysconfig/network-scripts/ifcfg-eth0\n\n```", "```\nBRIDGE=virbrid0\n\n```", "```\n$ sudo nano /etc/sysconfig/network-scripts/ifcfg-brid0\n\n```", "```\nDEVICE=\"brid0\"\nTYPE=BRIDGE\nONBOOT=yes\nBOOTPROTO=static\nIPADDR=\"10.0.0.2\"\nNETMASK=\"255.255.255.0\"\nGATEWAY=\"10.0.0.1\"\nDNS1=\"8.8.8.8\"\n\n```", "```\n$ sudo virt-install --os-variant=list\n\n```", "```\n$ sudo virt-install  --name=CentOS7guest  --ram=1024  --vcpus=2  --cdrom=./CentOS-7.1-x86_64-minimal.iso --os-type=linux --os-variant=rhel7  --network bridge=brid0 --graphics=spice  --disk path=/var/lib/libvirt/images/CentOS7.dsk,size=10\n\n```", "```\n    $ sudo virsh --connect qemu:///system list\n\n    ```", "```\n    $ sudo virsh dominfo CentOS7guest\n\n    ```", "```\n    $ sudo virsh --connect qemu:///system shutdown CentOS7guest\n\n    ```", "```\n    $ sudo virsh --connect qemu:///system start CentOS7guest\n\n    ```", "```\n    $ sudo virsh --connect qemu:///system destroy CentOS7guest\n    $ sudo virsh --connect qemu:///system undefineCentOS7guest\n    $ sudo rm -f /var/lib/libvirt/images/CentOS7guest.img\n\n    ```", "```\n    $ sudo virsh --connect qemu:///system autostart CentOS7guest\n    $ sudo virsh --connect qemu:///system dominfo CentOS7guest | grep Auto\n\n    ```", "```\n$ sudo yum localinstall http://download.openvz.org/virtuozzo/releases/7.0/x86_64/os/Packages/v/virtuozzo-release-7.0.0-10.vz7.x86_64.rpm\n\n```", "```\n$ sudo yum install -y prlctl prl-disp-service vzkernel\n\n```", "```\n$ sudo nano /etc/sysctl.conf\n\n```", "```\n# On Hardware Node we generally need\n# packet forwarding enabled and proxy arp disabled\nnet.ipv4.ip_forward = 1\nnet.ipv6.conf.default.forwarding = 1\nnet.ipv6.conf.all.forwarding = 1\nnet.ipv4.conf.default.proxy_arp = 0\n\n# Enables source route verification\nnet.ipv4.conf.all.rp_filter = 1\n\n# Enables the magic-sysrq key\nkernel.sysrq = 1\n\n# We do not want all our interfaces to send redirects\nnet.ipv4.conf.default.send_redirects = 1\nnet.ipv4.conf.all.send_redirects = 0\n\n```", "```\n$ sudo nano /etc/sysconfig/selinux\n\n```", "```\nSELINUX=permissive\n\n```", "```\n$ sudo yum install vzctl vzquota ploop\n\n```", "```\n$ sudo nano /etc/vz/vz.conf\n\n```", "```\nNEIGHBOUR_DEVS=all\n\n```", "```\n$ sudo wget -O - http://ovz-web-panel.googlecode.com/svn/installer/ai.sh | sh\n\n```", "```\n$ sudo firewall-cmd --zone=public --permanent --add-port=3000/tcp\n\n```", "```\n$ sudo firewall-cmd --reload\n\n```", "```\nhttp://<the-hostname>:3000\n\n```", "```\n$ mkdir OpenVZCont\n$ cd OpenVZCont\n\n```", "```\n$ wget http://download.openvz.org/template/precreated/centos-7-x86_64-minimal.tar.gz\n\n```", "```\n$ tar \u2013xzvf centos-7-x86_64-minimal.tar.gz\n\n```", "```\n$ sudo vzctl create 101 --ostemplate centos-7-x86_64-minimal\n\n```", "```\n$ sudo vzctl set 101 --ipadd 10.0.0.14 --save\n\n```", "```\n$ sudo vzctl set 101 --nameserver 8.8.8.8 --save\n\n```", "```\n$ sudo vzctl start 101\n\n```", "```\n$ ping 10.0.0.14\n\n```", "```\n$ sudo vzctl enter 101\n\n```", "```\n$ sudo nano /etc/yum.repos.d/virtualbox.repo\n\n```", "```\n[virtualbox]\nname=Oracle Linux / RHEL / CentOS-$releasever / $basearch - VirtualBox\nbaseurl=http://download.virtualbox.org/virtualbox/rpm/el/$releasever/$basearch\nenabled=1\ngpgcheck=1\ngpgkey=http://download.virtualbox.org/virtualbox/debian/oracle_vbox.asc\n\n```", "```\n$ sudo rpm -ivh http://ftp.jaist.ac.jp/pub/Linux/Fedora/epel/7/x86_64/e/epel-release-7-5.noarch.rpm\n\n```", "```\n$ sudo yum install gcc make kernel-headers kernel-devel fontforge binutils patch  dkms glibc-headers glibc-devel qt libgomp\n\n```", "```\n$ export KERN_DIR=/usr/src/kernels/3.10.0-229.14.1.el7.x86_64\n\n```", "```\n$ sudo yum install VirtualBox-5.0\n\n```", "```\n$ sudo systemctl start vboxdrv\n\n```", "```\n$ sudo virtualbox &\n\n```", "```\n    $ sudo yum update\n\n    ```", "```\n    $ sudo curl -sSL https://get.docker.com/ | sh\n\n    ```", "```\n    $ sudo usermod -aG docker packt\n\n    ```", "```\n    $ sudo systemctl docker start\n    $ sudo systemctl enable docker.service\n\n    ```", "```\n    $ sudo docker run hello-world\n\n    ```", "```\n    $ sudo docker pull centos7\n\n    ```", "```\n    $ sudo docker run -i -t centos7 /bin/bash\n\n    ```", "```\n    $ sudo docker search centos7\n\n    ```", "```\n$ sudo yum install httpd\n\n```", "```\n$ sudo nano /etc/hostname\n\n```", "```\nWebserver1.packt.co.uk\n\n```", "```\n$ sudo nano /etc/hosts\n\n```", "```\n127.0.0.1  webserver1  Webserver1.packt.co.uk\n\n```", "```\n10.0.0.10  haproxy  haproxy.packt.co.uk\n10.0.0.11  Webserver1  Webserver1.packt.co.uk\n10.0.0.12  Webserver2  Webserver2.packt.co.uk\n10.0.0.13  Webserver3  Webserver3.packt.co.uk\n10.0.0.20  backupWebserver   backupWebserver.packt.co.uk\n\n```", "```\n$ sudo firewall\u00adcmd \u00ad\u00adpermanent \u00ad\u00adzone=public \u00ad\u00adadd\u00adport=80/tcp\n$ sudo firewall\u00adcmd \u00ad\u00adpermanent \u00ad\u00adzone=public \u00ad\u00adadd\u00adport=443/tcp\n$ sudo firewall\u00adcmd \u00ad\u00adreload\n\n```", "```\n$ sudo firewall\u00adcmd \u00ad\u00adpermanent \u00ad\u00adzone=public \u00ad\u00adadd\u00adport=80/tcp\n$ sudo firewall\u00adcmd \u00ad\u00adpermanent \u00ad\u00adzone=public \u00ad\u00adadd\u00adport=443/tcp\n$ sudo firewall\u00adcmd \u00ad\u00adpermanent \u00ad\u00adzone=public \u00ad\u00adadd\u00adport=514/udp\n$ sudo firewall\u00adcmd \u00ad\u00adreload\n\n```", "```\n$ sudo yum install haproxy\n\n```", "```\n$ sudo nano /etc/haproxy/haproxy.cfg\n\n```", "```\nlog         127.0.0.1 local2 info\n\n```", "```\n$ sudo nano /etc/rsyslog.conf\n\n```", "```\n$ModLoad imudp\n$UDPServerRun 514\n\n```", "```\n$ sudo nano /etc/rsyslog.d/haproxy.conf\n\n```", "```\nlocal2.*  /var/log/haproxy.log\n\n```", "```\n$ sudo systemctl restart rsyslog.service\n\n```", "```\n$ sudo nano /etc/haproxy/haproxy.cfg\n\n```", "```\n$ sudo nano /etc/httpd/conf/httpd.conf\n\n```", "```\nListen 8080 \n\n```", "```\nFrontend  HAProxy\nbind  *:80\nreqadd X-Forwarded-Proto:\\ http\ndefault_backend  HAProxy\n\n```", "```\n# use_backend static  if url_static\nbackend HAProxy *:80\nmode http\nstats enable\nstats hide-version\nstats uri /stats\nstats realm Haproxy\\ Statistics\nstats auth haproxy:password    # Change \"password\" with a well secured password\nbalance roundrobin \noption httpchk\noption  httpclose\noption forwardfor\ncookie LB insert\n server webserver1 10.0.0.11:80 cookie webserver1 check\nserver webserver3 10.0.0.12:80 cookie webserver2 check\nserver webserver3 10.0.0.13:80 cookie webserver3 check\nserver backupwebserver 10.0.0.20:80 check backup\n\n```", "```\n$ sudo systemctl start haproxy.service\n$ sudo systemctl enable haproxy.service\n\n```", "```\n$ sudo systemctl status haproxy.service -l\n\n```"]