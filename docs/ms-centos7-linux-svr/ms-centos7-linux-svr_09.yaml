- en: Chapter 9. Some Additional Tricks and Tools
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第9章。一些额外的技巧和工具
- en: For daily Linux usage, most system administrators/users must master a few techniques
    to help them use their Linux machine to its full potential. It is like having
    a Swiss Army knife and using it to just cut vegetables. Linux hides many useful
    techniques for daily-life tasks, and CentOS 7 is one of the latest and most reliable
    OS that many users can use to solve tons of problems.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 对于日常的Linux使用，大多数系统管理员/用户必须掌握一些技巧，以帮助他们充分发挥Linux机器的潜力。这就像拥有一把瑞士军刀，只用它来切蔬菜。Linux隐藏了许多有用的技巧，可以用来处理日常任务，而CentOS
    7是最新和最可靠的操作系统之一，许多用户可以用它来解决大量问题。
- en: Through this chapter, we are going to show some of the most needed tools that
    we believe any system administrator should know how to use. We will be showing
    how to use these tricks and tools to better manage a CentOS 7 server infrastructure.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 通过本章，我们将展示一些我们认为任何系统管理员都应该知道如何使用的最需要的工具。我们将展示如何使用这些技巧和工具来更好地管理CentOS 7服务器基础架构。
- en: 'Within this chapter, we are going to present the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下主题：
- en: Connecting to multiple Linux machines using SSH
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用SSH连接到多台Linux机器
- en: Securing SSH and root login configurations
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保护SSH和root登录配置
- en: SSH key-based authentication
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于SSH密钥的身份验证
- en: Installation and configuration of SpamAssassin
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置SpamAssassin
- en: Setting up the Clamav antivirus
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置Clamav防病毒软件
- en: Configuration of Mytop for a MySQL database
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为MySQL数据库配置Mytop
- en: Setting up Samba and NFS for file sharing
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置Samba和NFS进行文件共享
- en: Introduction to some Linux system and network monitoring tools
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍一些Linux系统和网络监控工具
- en: SSH for remote connection
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 远程连接的SSH
- en: As we all know, SSH is the Secure Shell connection that we use to connect remotely
    to a Linux machine. It is the main tool used by system administrators for remote
    management of their infrastructure. It is one of the essential tools that we find
    in a basic installation of CentOS 7 and almost all Linux distributions by default.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 众所周知，SSH是我们用来远程连接到Linux机器的安全Shell连接。这是系统管理员用于远程管理基础设施的主要工具。它是CentOS 7基本安装中的一个基本工具，几乎所有Linux发行版都默认包含它。
- en: Usually, SSH is only installed as a client, so you can only remotely connect
    to other machines; but this is not the case for a basic system installation. When
    installing the CentOS 7 server, it should already have the SSH server installed
    and running.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，SSH只安装为客户端，因此您只能远程连接到其他计算机；但这不适用于基本系统安装。在安装CentOS 7服务器时，应该已经安装并运行了SSH服务器。
- en: 'To install the SSH server, we can just rely on the default package repository
    without adding any extra third-party repository:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装SSH服务器，我们可以依赖默认的软件包存储库，而无需添加任何额外的第三方存储库：
- en: '[PRE0]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'After having the SSH server installed, we should start the service and enable
    it for default system startup services:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 安装SSH服务器后，我们应该启动服务并将其启用为默认的系统启动服务：
- en: '[PRE1]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'For security, most machines have the default SSH port closed, so we need to
    open it from the default firewall manager:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 出于安全考虑，大多数机器都关闭了默认的SSH端口，因此我们需要从默认防火墙管理器中打开它：
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: That's all we need to do to make a machine remotely accessible.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是我们需要做的一切，以使机器可以远程访问。
- en: 'To access this machine, we only need to type `ssh` followed by the username
    and the IP address or the hostname (if the machine is stored at the DNS server
    or listed at the local `/etc/hosts` file) of the machine desired to connect to:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问这台机器，我们只需要输入`ssh`，然后输入用户名和IP地址或主机名（如果该机器存储在DNS服务器上或列在本地`/etc/hosts`文件中）。
- en: '[PRE3]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Usually, if the server is running and the `sshd` service is listening, then
    there should be an exchange of public keys upon the first ever connection to that
    server using this machine. Otherwise, the server will just ask for the desired
    user password to allow the login.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，如果服务器正在运行并且`sshd`服务正在监听，那么在首次使用此机器连接到该服务器时，应该会交换公钥。否则，服务器将要求所需用户密码以允许登录。
- en: 'When we connect to a remote machine using SSH, it is like us having an open
    window to that machine, and we are kind of stuck to that, which is a network-consuming
    way of connecting if we are using it for a long period, and especially if we are
    just connected without really typing any commands. So we need to close the terminal
    window to leave the remote connection session and free the resources reserved.
    SSH offers some useful options such as `–t`. Through this option, we can send
    a command to be executed on the remote machine and send back the output:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们使用SSH连接到远程机器时，就像我们对该机器有一个开放的窗口，我们有点被困在那里，这是一种连接的网络消耗方式，如果我们长时间使用它，尤其是如果我们只是连接而没有真正输入任何命令。因此，我们需要关闭终端窗口以离开远程连接会话并释放保留的资源。SSH提供了一些有用的选项，如`-t`。通过这个选项，我们可以发送一个命令在远程机器上执行，并发送回输出：
- en: '[PRE4]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This command will only show the containment of the `/etc/hosts` file without
    keeping the windows open.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将仅显示`/etc/hosts`文件的内容，而不保持窗口打开。
- en: 'We can also use SSH to send files between two machines to or from a remote
    machine, using the `scp` command:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以使用SSH在两台机器之间发送文件，使用`scp`命令：
- en: '[PRE5]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In the next section, we will show you how to secure SSH and manage a root login.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将向您展示如何保护SSH并管理root登录。
- en: '![SSH for remote connection](img/B04674_09_15.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: ！[远程连接的SSH](img/B04674_09_15.jpg)
- en: 'Source: [https://www.allegrosoft.com/](https://www.allegrosoft.com/)'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[https://www.allegrosoft.com/](https://www.allegrosoft.com/)
- en: Securing SSH and the root login configuration
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 保护SSH和root登录配置
- en: 'For this section, we are going to show some basic and advanced ways to secure
    the SSH service to mitigate more threats. We will need to make some minor changes
    to the `/etc/ssh/sshd_config` file. We will explain every line as we change it
    gradually:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将展示一些基本和高级的方法来保护SSH服务，以减轻更多的威胁。我们需要对`/etc/ssh/sshd_config`文件进行一些微小的更改。我们将逐渐解释每一行的更改：
- en: '[PRE6]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Uncomment the SSH version 2 line to use only the newer version of SSH, which
    is more secure and reliable. The line should look like the following:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 取消注释SSH版本2行，只使用更新的SSH版本，这更安全可靠。该行应如下所示：
- en: '[PRE7]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'We can limit users'' access to restrict some users from accessing the server.
    We do this using SSH:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以限制用户访问以限制某些用户访问服务器。我们使用SSH来做到这一点：
- en: '[PRE8]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Then we can set up the time out for the SSH connection to always close the
    sessions that are not active for a defined period of time. We need to set the
    countdown to start from the moment the session became idle:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以设置SSH连接的超时，以始终关闭一段时间内不活动的会话。我们需要从会话变为空闲开始倒计时：
- en: '[PRE9]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Then we can disable the root login using SSH:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以使用SSH禁用root登录：
- en: '[PRE10]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'In addition, we can disable empty password usage, whereby users do not have
    the right to log in if they don''t have a password:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们可以禁用空密码使用，如果用户没有密码，则无权登录：
- en: '[PRE11]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'In addition to that, we can do the same thing for password authentication.
    We can force all logins to happen via generated keys:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 除此之外，我们还可以对密码身份验证执行相同的操作。我们可以强制所有登录都通过生成的密钥进行：
- en: '[PRE12]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Then a warning banner is always useful. So, if we need to create one, we should
    edit `/etc/issues` and add any kind of banner:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 然后警告横幅总是有用的。因此，如果需要创建一个，我们应该编辑`/etc/issues`并添加任何类型的横幅：
- en: '[PRE13]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Then we should restart the service so that it can take effect:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们应该重新启动服务，以使其生效：
- en: '[PRE14]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Some servers are publicly accessible, so they may need an extra reinforcement
    to their SSH service. For this task, we will be installing a tool called **Fail2Ban**,
    which is a very reliable tool that helps protect many services from brute-force
    attacks. It basically scans the log file for the specific service and looks for
    failed login attempts in order to block them. To have it installed, we need to
    install the EPEL repository first:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 一些服务器是公开可访问的，因此它们可能需要对其SSH服务进行额外加固。为此任务，我们将安装一个名为**Fail2Ban**的工具，这是一个非常可靠的工具，可以帮助保护许多服务免受暴力攻击。它基本上会扫描特定服务的日志文件，并查找失败的登录尝试以阻止它们。要安装它，我们首先需要安装EPEL存储库：
- en: '[PRE15]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Then we need to install it with **Rsyslog**, since it scans the log output
    taken from Rsyslog:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要使用**Rsyslog**安装它，因为它会扫描从Rsyslog获取的日志输出：
- en: '[PRE16]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: To have it working fine, we can update it or update the SELinux policy.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使其正常工作，我们可以更新它或更新SELinux策略。
- en: 'Then we go ahead to configure it in order to secure SSH. We need to create
    a file named `sshd.local` `in the jail` folder of `Fail2Ban`:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们继续配置它以保护SSH。我们需要在`Fail2Ban`的`jail`文件夹中创建一个名为`sshd.local`的文件：
- en: '[PRE17]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Then we add the following code inside it:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们在其中添加以下代码：
- en: '[PRE18]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'This will ban attacks for 48 hours. Then we start the service and enable it
    for system startup services:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这将禁止攻击48小时。然后我们启动服务并将其启用为系统启动服务：
- en: '[PRE19]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: We can now say that we are done with securing SSH. Let's try to manage root
    login access. We have already shown how we can disable root login using SSH. Let's
    manage the Sudoers file a little to have a user execute `superuser` commands without
    the need to type in a password.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以说我们已经完成了保护SSH。让我们尝试管理root登录访问。我们已经展示了如何使用SSH禁用root登录。让我们稍微管理Sudoers文件，使用户可以执行“超级用户”命令而无需输入密码。
- en: First, we need to install `sudo` on the server. Usually, most CentOS 7 server
    installations have `sudo` installed.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要在服务器上安装`sudo`。通常，大多数CentOS 7服务器安装都已经安装了`sudo`。
- en: 'Then we can just use the group wheel. If needed, we can create a new one:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以只使用wheel组。如果需要，我们可以创建一个新的：
- en: '[PRE20]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'And we go to the line describing the group wheel:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们转到描述wheel组的行：
- en: '[PRE21]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Here, we need to add a word to make the users under this group gain root access
    using `sudo`, and they don''t need to use passwords every time:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们需要添加一个单词，使得此组下的用户可以使用`sudo`获得root访问权限，并且他们不需要每次都使用密码：
- en: '[PRE22]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Note
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Some system administrators do not advise this option, because if there is an
    error that gets typed, there is no turning back. It is always a choice to take
    for this option depending on the need.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 一些系统管理员不建议此选项，因为如果输入错误，就无法回头了。根据需要，始终可以选择此选项。
- en: SSH key-based authentication
  id: totrans-73
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基于SSH密钥的身份验证
- en: As we have noticed by using SSH every time, we need to type the password, which
    is not something recommended in many security policies. This is where we will
    use the SSH feature to use authentication by using public/private keys.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们每次使用SSH时所注意到的，我们需要输入密码，这在许多安全策略中是不推荐的。这就是我们将使用SSH功能使用公钥/私钥进行身份验证的地方。
- en: 'SSH provides a tool for creating public/private keys to use for remote connection
    authentication, without the need to use a password. How do we do that? It''s simple.
    For this test example we are going to create a new RSA key, a little bit more
    secure than the usual (we can create different types of keys such as `dsa`, `ecdsa`,
    `ed25519`):'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: SSH提供了一个工具，用于创建用于远程连接身份验证的公钥/私钥，而无需使用密码。我们如何做到这一点？很简单。对于此测试示例，我们将创建一个新的RSA密钥，比通常的安全性更高（我们可以创建不同类型的密钥，如`dsa`，`ecdsa`，`ed25519`）：
- en: '[PRE23]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Then we follow the steps presented by the command. For a default installation,
    we can just keep typing *Enter*. Otherwise, we can always add some kind of passphrase
    to make it more secure. We may need to specify the key file name so we can use
    it later.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 然后按照命令给出的步骤进行。对于默认安装，我们可以继续输入*Enter*。否则，我们可以始终添加某种密码来使其更安全。我们可能需要指定密钥文件名，以便以后使用它。
- en: 'Then we need to copy the newly created keys file to the host that we want to
    connect to. There are two ways of doing this. The traditional way, which is to
    literally copy the key file into the server that we want to remote connect to
    without using a password. Where we need to put the file in the subfolder `.ssh`
    located at the current user folder. Or, we can simply use the `ssh-copy-id` command
    that does the same job without the pain:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要将新创建的密钥文件复制到我们要连接的主机上。有两种方法可以做到这一点。传统的方法是将密钥文件直接复制到我们要远程连接到的服务器中，而无需使用密码。我们需要将文件放在当前用户文件夹中的子文件夹`.ssh`中。或者，我们可以简单地使用`ssh-copy-id`命令，它可以在不痛苦的情况下完成相同的工作：
- en: '[PRE24]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Then we need to type the password for the last time.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要最后一次输入密码。
- en: After that, any SSH remote connection or file transfer can be done without the
    need for a password.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，任何SSH远程连接或文件传输都可以在不需要密码的情况下完成。
- en: '![SSH key-based authentication](img/B04674_09_16.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![基于SSH密钥的身份验证](img/B04674_09_16.jpg)'
- en: 'Source: [https://www.digitalocean.com/](https://www.digitalocean.com/)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[https://www.digitalocean.com/](https://www.digitalocean.com/)
- en: Installing and configuring SpamAssassin
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和配置SpamAssassin
- en: '**SpamAssassin** is one of the most powerful spam filters that work with Postfix
    to filter all mails that may present a threat.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**SpamAssassin**是与Postfix一起工作的最强大的垃圾邮件过滤器，用于过滤可能构成威胁的所有邮件。'
- en: We will use it to filter all Postfix mails on our mail server (as we described
    in [Chapter 4](ch04.html "Chapter 4. Mail Server with Postfix"), *Mail Server
    with Postfix,* about how to get one up and running).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将用它来过滤我们邮件服务器上的所有Postfix邮件（正如我们在[第4章](ch04.html "第4章。使用Postfix的邮件服务器")中描述的那样，*使用Postfix的邮件服务器*，关于如何启动和运行一个）。
- en: 'First, we need to install it using the default package manager:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要使用默认软件包管理器进行安装：
- en: '[PRE25]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Then it is installed. Now we move on to the configuration part:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 然后它就安装好了。现在我们继续进行配置部分：
- en: '[PRE26]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'We have some lines that we need to make sure are in the file. So, we''d rather
    write them or uncomment them if they are commented:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有一些行需要确保在文件中。因此，我们宁愿写下它们或取消注释它们：
- en: '[PRE27]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Next, we create a new user group and a user to manage the service:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们创建一个新的用户组和一个用户来管理该服务：
- en: '[PRE28]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Then we have our service well configured. We move on to the Postfix part, where
    we should make some minor changes to its master configuration file:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们的服务就配置好了。我们继续进行Postfix部分，我们需要对其主配置文件进行一些小的更改：
- en: '[PRE29]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'We need to go to the line of the SMTPD configuration and add the following
    line:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要转到SMTPD配置的行并添加以下行：
- en: '[PRE30]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Therefore, it should look like this:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，它应该看起来像这样：
- en: '[PRE31]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'After that, we add the following line:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，我们添加以下行：
- en: '[PRE32]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'We save the file and quit. Now we need to update the SpamAssassin rules by
    typing the following:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 我们保存文件并退出。现在我们需要通过输入以下内容来更新SpamAssassin规则：
- en: '[PRE33]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Now, to make the change in the `SpamAssassin` service and the Postfix server,
    we need to restart it and then we are done:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，为了对`SpamAssassin`服务和Postfix服务器进行更改，我们需要重新启动它，然后我们就完成了：
- en: '[PRE34]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Setting up the Clamav antivirus
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置Clamav防病毒软件
- en: '**Clamav** is an open source antivirus tool. Its basic usage is for detecting
    viruses, malware, and malicious software on Linux-based machines.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**Clamav**是一个开源的防病毒工具。其基本用途是在基于Linux的机器上检测病毒、恶意软件和恶意软件。'
- en: 'To install Clamav, we need to install the EPEL repository:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Clamav，我们需要安装EPEL存储库：
- en: '[PRE35]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Then we can install Clamav with all its useful tools:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以安装Clamav及其所有有用的工具：
- en: '[PRE36]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Before we start configuring, we need to make sure that SELinux will let Clamav
    work without issues:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始配置之前，我们需要确保SELinux可以让Clamav无问题地工作：
- en: '[PRE37]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'To check whether the option is active, we need to type this:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查选项是否激活，我们需要输入以下内容：
- en: '[PRE38]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Then we remove the example configuration, so we can make our own configuration:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们移除示例配置，这样我们就可以制作我们自己的配置：
- en: '[PRE39]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'After removing the example lines, we need to do some modifications to define
    the TCP server type and to define the user root to execute the antivirus:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 删除示例行后，我们需要进行一些修改以定义TCP服务器类型并定义用户根来执行防病毒软件：
- en: '[PRE40]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'We uncomment the following line:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 我们取消注释以下行：
- en: '[PRE41]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'We add those two lines at the end of the file and save:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在文件末尾添加这两行并保存：
- en: '[PRE42]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'To keep the Clamav database up to date, we need to enable a tool called **Freshclam**.
    Therefore, we need to create a backup file from its configuration file:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 为了保持Clamav数据库的最新状态，我们需要启用一个名为**Freshclam**的工具。因此，我们需要从其配置文件中创建一个备份文件：
- en: '[PRE43]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Again we remove the example lines:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们移除示例行：
- en: '[PRE44]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'Otherwise, if needed, we can adjust the options for a more personalized solution.
    We need to run Freshclam to update the database manually and to check whether
    the configuration is successfully set:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 否则，如果需要，我们可以调整选项以获得更个性化的解决方案。我们需要运行Freshclam手动更新数据库，并检查配置是否成功设置：
- en: '[PRE45]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'We need to create the file that will act as the service file to run the **Freshclam**
    daemon:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要创建一个文件，作为运行**Freshclam**守护程序的服务文件：
- en: '[PRE46]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Then we put the following code inside the file and save it:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们将以下代码放入文件中并保存：
- en: '[PRE47]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Next, we should check whether the service is well configured by running it
    and checking its status:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们应该通过运行它并检查其状态来检查服务是否配置正确：
- en: '[PRE48]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'If everything is running fine and there is no problem, we add it to the system
    startup service:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一切正常，没有问题，我们将其添加到系统启动服务中：
- en: '[PRE49]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'Now we need to create the Clamav service file. We have an example service file
    that we need to copy into the system services folder. We need to change its name
    to something understandable. Then, we need to make some minor modifications to
    it:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们需要创建Clamav服务文件。我们有一个示例服务文件，需要复制到系统服务文件夹中。我们需要将其名称更改为可理解的内容。然后，我们需要对其进行一些小的修改：
- en: '[PRE50]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'Since we have changed the name, we need to change it at the file that uses
    this service as well:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 自从我们改变了名字，我们需要在使用这项服务的文件中也进行更改：
- en: '[PRE51]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'We change the first line by removing `@` to look like this:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过删除`@`来更改第一行，使其看起来像这样：
- en: '[PRE52]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'At the same location, we need to change the Clamd service file:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在同一位置，我们需要更改Clamd服务文件：
- en: '[PRE53]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'We add the following lines at the end:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在结尾添加以下行：
- en: '[PRE54]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'And we remove `%i` from both the `Description` and `ExecStart` options. Then
    we change them to look like the following:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们从`Description`和`ExecStart`选项中删除`%i`。然后我们将它们更改为以下内容：
- en: '[PRE55]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Before running any service, we need to check whether we have any errors. We
    will run Clamd manually:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在运行任何服务之前，我们需要检查是否有任何错误。我们将手动运行Clamd：
- en: '[PRE56]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Then, if everything goes fine, we start the services and add them to the system
    startup services:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，如果一切顺利，我们启动服务并将其添加到系统启动服务中：
- en: '[PRE57]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'For a final verification of the Clamav services, we check its status:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Clamav服务的最终验证，我们检查其状态：
- en: '[PRE58]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'For a test scan of the current folder, we run the following command:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 对于当前文件夹的测试扫描，我们运行以下命令：
- en: '[PRE59]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'This is the architecture how ClamAV should be located in our infrastructure:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 这是ClamAV应该在我们的基础架构中的位置：
- en: '![Setting up the Clamav antivirus](img/B04674_09_17.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![设置Clamav杀毒软件](img/B04674_09_17.jpg)'
- en: Source [https://wiki.jenkins-ci.org/display/JENKINS/Home](https://wiki.jenkins-ci.org/display/JENKINS/Home)
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 来源[https://wiki.jenkins-ci.org/display/JENKINS/Home](https://wiki.jenkins-ci.org/display/JENKINS/Home)
- en: 'The following figure shows a better description between the components of a
    mail server to explain how ClamAV help secure our mail service:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图显示了邮件服务器组件之间的更好描述，以解释ClamAV如何帮助保护我们的邮件服务：
- en: '![Setting up the Clamav antivirus](img/B04674_09_18.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![设置Clamav杀毒软件](img/B04674_09_18.jpg)'
- en: 'Source: [https://aphyr.com/](https://aphyr.com/)'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[https://aphyr.com/](https://aphyr.com/)
- en: Configuring Mytop for a MySQL database
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为MySQL数据库配置Mytop
- en: Mytop is an open source solution that helps monitor the MySQL database's activities
    and performance, or what we now know as MariaDB for CentOS 7\. It is a non-GUI
    monitoring tool. Therefore, it kind of provides an interphase through the shell
    command line.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: Mytop是一个开源解决方案，可帮助监视MySQL数据库的活动和性能，或者我们现在所知道的CentOS 7的MariaDB。它是一个非GUI监控工具。因此，它在shell命令行中提供了一种接口。
- en: 'To install Mytop, we should make sure that the installation is going to be
    at the same server where the MariaDB database server is installed. Then we add
    the EPEL repository, as follows:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Mytop，我们应该确保安装将在安装了MariaDB数据库服务器的同一台服务器上进行。然后我们添加EPEL存储库，如下所示：
- en: '[PRE60]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: 'Next, we execute the installation using `yum`:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们使用`yum`执行安装：
- en: '[PRE61]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'For the configuration, we only need to create a configuration file at the `root`
    folder:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 对于配置，我们只需要在`root`文件夹中创建一个配置文件：
- en: '[PRE62]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: 'Then we type the following text inside it:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们在其中输入以下文本：
- en: '[PRE63]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: This is a personalized configuration that will be used during the execution
    of the program.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 这是在程序执行期间将使用的个性化配置。
- en: 'To run it, we need to type in the following command:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行它，我们需要输入以下命令：
- en: '[PRE64]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Then we need to type in the MariaDB root password. Otherwise, if we are accessing
    using a non-root user, we can always type this:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要输入MariaDB根密码。否则，如果我们使用非根用户访问，我们可以随时输入：
- en: '[PRE65]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Or if we need one specific database, we have the following:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 或者如果我们需要一个特定的数据库，我们有以下内容：
- en: '[PRE66]'
  id: totrans-181
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'To know that it is working fine, you should see the following interface:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 要知道它是否正常工作，您应该看到以下界面：
- en: '![Configuring Mytop for a MySQL database](img/B04674_09_01.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![为MySQL数据库配置Mytop](img/B04674_09_01.jpg)'
- en: 'For more information on how to interact with the Mytop GUI, you can always
    check out its manual:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 有关如何与Mytop GUI交互的更多信息，您可以随时查看其手册：
- en: '[PRE67]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '![Configuring Mytop for a MySQL database](img/B04674_09_19.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![为MySQL数据库配置Mytop](img/B04674_09_19.jpg)'
- en: 'Source: [http://i.gzn.jp](http://i.gzn.jp)'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://i.gzn.jp](http://i.gzn.jp)
- en: Setting up Samba and NFS for file sharing
  id: totrans-188
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置Samba和NFS进行文件共享
- en: Samba is an open source project with the goal of providing a secure and stable
    data and printer-sharing service across multiple operating systems (Windows, Linux,
    and Mac OS).
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: Samba是一个开源项目，旨在为多个操作系统（Windows、Linux和Mac OS）提供安全稳定的数据和打印机共享服务。
- en: Samba works using the **Session Message Block** (**SMB**) protocol, which is
    a protocol supported by most Windows OS and Mac OS to serve those clients who
    have access to shared resources such as Linux storage media, printers, serial
    ports (hardware equipment).
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: Samba使用**会话消息块**（**SMB**）协议工作，这是大多数Windows OS和Mac OS支持的协议，用于为那些可以访问共享资源的客户端提供服务，如Linux存储介质、打印机、串行端口（硬件设备）。
- en: For the tutorial, we are going to use a CentOS 7 Samba server and Mac OS machine
    to use the service to have access to a shared folder.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们将使用CentOS 7 Samba服务器和Mac OS机器来使用该服务以访问共享文件夹。
- en: 'First, we will start by installing Samba on our CentOS 7 server:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将在我们的CentOS 7服务器上安装Samba：
- en: '[PRE68]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'Before starting the configuration, we need to make some backup, environment
    creation, and firewall setup. So first, we need to create a backup for the Samba
    configuration file to make sure not to mess up the original configuration (this
    is useful in case of having many updated configurations). We better keep a backup
    of each stage in the update process:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始配置之前，我们需要进行一些备份、环境创建和防火墙设置。因此，首先，我们需要创建Samba配置文件的备份，以确保不会弄乱原始配置（这在有许多更新的配置时非常有用）。我们最好在更新过程的每个阶段保留备份：
- en: '[PRE69]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: 'Then we need to create the folder that we need to share, or prepare it to be
    shared if it is already there. We need to set the user permissions to grant everything
    to that folder:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要创建我们需要共享的文件夹，或者准备共享它（如果已经存在）。我们需要设置用户权限以授予该文件夹的所有内容：
- en: '[PRE70]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'Finally, we need to open the Samba service port at the server firewall:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们需要在服务器防火墙上打开Samba服务端口：
- en: '[PRE71]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: 'Now we can start making the necessary configuration to the Samba configuration
    file:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以开始对Samba配置文件进行必要的配置：
- en: '[PRE72]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'We need to make sure that we set the appropriate workgroup (usually it is set
    as `WORKGROUP`):'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要确保设置适当的工作组（通常设置为`WORKGROUP`）：
- en: '[PRE73]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: And we define a shared folder.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 并且我们定义了一个共享文件夹。
- en: '[PRE74]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'We save the file and create some Samba users:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 我们保存文件并创建一些Samba用户：
- en: '[PRE75]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: Then we type in a password and retry typing it to create a new one.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们输入密码并重试输入以创建新密码。
- en: 'If we want some folders to be shared with a specific user, we need to add the
    following line to the folder definition and we need to disable guest login by
    changing `guest` `ok = yes` to `guest` `ok = no`:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们想要与特定用户共享一些文件夹，我们需要在文件夹定义中添加以下行，并且需要通过将`guest` `ok = yes`更改为`guest` `ok
    = no`来禁用访客登录：
- en: '[PRE76]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'For the testing phase, we need to start the services:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在测试阶段，我们需要启动服务：
- en: '[PRE77]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: 'Then we go to the client side and type this link at the server connection:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们转到客户端并在服务器连接中输入此链接：
- en: '[PRE78]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_02.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![设置Samba和NFS进行文件共享](img/B04674_09_02.jpg)'
- en: 'This test is used on a Mac machine. For a Windows machine, we type the following
    link at the Explorer address field:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 这个测试是在Mac机器上使用的。对于Windows机器，我们在资源管理器地址栏中输入以下链接：
- en: '[PRE79]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'Then we will have a login screen, where we need to type the Samba user ID and
    password, like this:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们会有一个登录屏幕，在那里我们需要输入Samba用户ID和密码，就像这样：
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_03.jpg)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![设置Samba和NFS进行文件共享](img/B04674_09_03.jpg)'
- en: 'After typing the correct user ID and password, there should be a screen showing
    the possible folder that this user can have access to, as follows:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在输入正确的用户ID和密码后，应该会出现一个屏幕，显示该用户可以访问的可能文件夹，如下所示：
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_04.jpg)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![设置Samba和NFS进行文件共享](img/B04674_09_04.jpg)'
- en: Then we will have our folder accessible with the rights as defined in the configuration
    folder. Since we have write permissions, we can create a folder and then check
    whether it did actually happen on the server.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们将以配置文件中定义的权限访问我们的文件夹。由于我们有写权限，我们可以创建一个文件夹，然后检查它是否确实出现在服务器上。
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_05.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![设置Samba和NFS进行文件共享](img/B04674_09_05.jpg)'
- en: We can run our server to verify whether the change made by the client has been
    applied.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以运行我们的服务器来验证客户端所做的更改是否已应用。
- en: '![Setting up Samba and NFS for file sharing](img/B04674_09_06.jpg)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![设置Samba和NFS进行文件共享](img/B04674_09_06.jpg)'
- en: 'If we ever need to change any of the folder-sharing configuration, we must
    restart the services to apply the change:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们需要更改任何文件夹共享配置，我们必须重新启动服务以应用更改：
- en: '[PRE80]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: Samba is good for multiple-environment file sharing, but we should not forget
    about Linux's most famous file-sharing solution—**Network File System** (**NFS**).
    NFS is a client-server tool used to share data between multiple Linux systems,
    via mounting many remote shared folders and drives across the network to directly
    access those files at the client side.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: Samba非常适合多环境文件共享，但我们不应忘记Linux最著名的文件共享解决方案——**网络文件系统**（**NFS**）。NFS是一个客户端服务器工具，用于在多个Linux系统之间共享数据，通过在网络上挂载许多远程共享文件夹和驱动器，直接在客户端访问这些文件。
- en: We are going to establish an NFS client-server test on CentOS 7 to show how
    it works.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在CentOS 7上建立一个NFS客户端服务器测试，以展示它的工作原理。
- en: 'First, we need to install the service at the server:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要在服务器上安装服务：
- en: '[PRE81]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'Then we start the service responsible for ensuring the functionality of the
    service:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们启动负责确保服务功能的服务：
- en: '[PRE82]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'We prepare a folder to be shared:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 我们准备一个要共享的文件夹：
- en: '[PRE83]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: 'Then, to export this folder and make it accessible to be mounted on the client,
    we go ahead and edit the `/etc/export` file:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，为了导出这个文件夹并使其可以在客户端上挂载，我们继续编辑`/etc/export`文件：
- en: '[PRE84]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: 'And we add the following line:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们添加以下行：
- en: '[PRE85]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: This line means that we are exporting this folder to all IP addresses in the
    network. The `rw` option gives write permissions to the folder, `sync` makes sure
    that the folder is always in synchronization, `no_root_squash` gives root privileges
    for the folder at the client side, and finally, `no_all_squash` enables the user's
    authority.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 这一行意味着我们将这个文件夹导出到网络中的所有IP地址。`rw`选项为文件夹提供写权限，`sync`确保文件夹始终同步，`no_root_squash`在客户端为文件夹提供root权限，最后，`no_all_squash`启用用户权限。
- en: 'After every change to the export file, we need to restart the NFS server:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在对导出文件进行任何更改后，我们需要重新启动NFS服务器：
- en: '[PRE86]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: 'Finally, we need to open the NFS services'' ports at the server firewall. Reload
    the firewall to apply the changes:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们需要在服务器防火墙上打开NFS服务的端口。重新加载防火墙以应用更改：
- en: '[PRE87]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: 'With this step, we can say that we are done configuring the server. Now we
    move to the client. Just like the server, we need to install the NFS utilities:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这一步，我们可以说我们已经完成了服务器的配置。现在我们转向客户端。就像服务器一样，我们需要安装NFS实用程序：
- en: '[PRE88]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: 'Then start the appropriate services:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 然后启动适当的服务：
- en: '[PRE89]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: 'Before mounting the network-shared folder, we need to make sure that there
    is a location to mount on:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在挂载网络共享文件夹之前，我们需要确保有一个位置可以挂载：
- en: '[PRE90]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: 'To test mount the folder, we can use the `mount` command or make the system
    mount it automatically by editing the `/etc/fstab` file:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 要测试挂载文件夹，我们可以使用`mount`命令，或者通过编辑`/etc/fstab`文件使系统自动挂载它：
- en: '[PRE91]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: 'In addition, we insert the following line:'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我们插入以下行：
- en: '[PRE92]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: 'For a faster connection, we can always use the fourth version of NFS by typing
    the following:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更快的连接，我们可以始终使用NFS的第四个版本，输入以下内容：
- en: '[PRE93]'
  id: totrans-256
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: NFS4 has more to offer than NFS3\. We would recommend it for an environment
    that has Linux servers that do support NFS4.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: NFS4比NFS3提供更多功能。我们建议在支持NFS4的Linux服务器环境中使用它。
- en: 'Finally, if we need to check what we have mounted on a specific NFS client,
    we use mount:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，如果我们需要检查在特定NFS客户端上挂载了什么，我们使用`mount`：
- en: '[PRE94]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: Introducing the Linux system and network monitoring tools
  id: totrans-260
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍Linux系统和网络监控工具
- en: In the final section of our chapter, we are going to present a number of very
    useful tools to monitor both systems and networks for our CentOS 7 server.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的最后一节中，我们将介绍一些非常有用的工具，用于监视CentOS 7服务器的系统和网络。
- en: 'We will start by showing some system monitoring tools. We believe that most
    of these tools need the EPEL repository installed, so we can just install it before
    trying to install any of those tools:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先展示一些系统监控工具。我们相信大多数这些工具需要安装EPEL存储库，所以我们可以在尝试安装这些工具之前先安装它：
- en: '[PRE95]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: 'The first tool that we are going to talk about is Htop. It is kind of the same
    as the old `top` command, but it has a very user-friendly interface, wherein it
    is much more interactive with many shortcuts, a graphical colored presentation
    of the process, and the CPU, Memory, and SWAP Memory in a bar shaped way, to show
    how much of those are used. To install Htop, we just need to use Yum:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先讨论的工具是Htop。它与旧的`top`命令类似，但它具有非常用户友好的界面，更加交互式，有许多快捷键，以图形彩色的方式呈现进程、CPU、内存和交换内存，以显示这些资源的使用情况。要安装Htop，我们只需要使用Yum：
- en: '[PRE96]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: 'And to run it, we simply need to type `htop`. There is no configuration needed:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行它，我们只需要输入`htop`。无需配置：
- en: '[PRE97]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'We should see this kind of interface:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 我们应该看到这种界面：
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_07.jpg)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_07.jpg)'
- en: 'The second system-monitoring tool on the list is Iotop. It does look like the
    old top command, but it specializes in showing the system available disk input
    and output access in real time. It shows each process activity, and how much it
    is using the hard disk (read/write speed and actual usage). To install it, we
    need to use YUM again, but usually it is installed on most CentOS 7 servers by
    default:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 列表中的第二个系统监控工具是Iotop。它看起来像旧的top命令，但它专门用于实时显示系统可用磁盘输入和输出访问。它显示每个进程的活动，以及它使用硬盘的情况（读/写速度和实际使用情况）。要安装它，我们需要再次使用YUM，但通常它默认已安装在大多数CentOS
    7服务器上：
- en: '[PRE98]'
  id: totrans-271
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: 'To use it we need to type the name:'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用它，我们需要键入名称：
- en: '[PRE99]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: 'We will have the following interface:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将有以下界面：
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_08.jpg)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_08.jpg)'
- en: Just before going to the network monitoring tools, we should take a quick look
    at this tool that performs monitoring for both systems and networks. Monitorix
    is an open source, lightweight monitoring tool for systems and network monitoring.
    It collects system and network activities on a regular basis in order to show
    them in a well-presented graph through a web-based interface. It is very helpful
    for detecting bottlenecks and system failures for better management.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 在进入网络监控工具之前，我们应该快速看一下这个既可以监控系统又可以监控网络的工具。Monitorix是一个开源的轻量级系统和网络监控工具。它定期收集系统和网络活动，以便通过基于Web的界面以良好呈现的图表显示出来。它对于检测瓶颈和系统故障以进行更好的管理非常有帮助。
- en: 'To install Monitorix, we need to install a few necessary packages first:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装Monitorix，我们首先需要安装一些必要的软件包：
- en: '[PRE100]'
  id: totrans-278
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: 'Then we install Monitorix:'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们安装Monitorix：
- en: '[PRE101]'
  id: totrans-280
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: 'It is kind of a service, so we need to start it and enable it for the login
    service startup:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一种服务，所以我们需要启动它并将其启用为登录服务的启动项：
- en: '[PRE102]'
  id: totrans-282
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: 'We may need to disable SELinux or set it to permissive to make our service
    work fine. In addition, since Monitorix serves at port 8080, we need to open that
    at the firewall, as follows:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可能需要禁用SELinux或将其设置为宽松模式，以使我们的服务正常工作。此外，由于Monitorix在端口8080上提供服务，我们需要在防火墙上打开它，如下所示：
- en: '[PRE103]'
  id: totrans-284
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: 'Then we can start using it by using a browser. We type the following at the
    address section:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以通过浏览器开始使用它。我们在地址栏中键入以下内容：
- en: '[PRE104]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: 'Thus, we will have the following interface:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们将有以下界面：
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_09.jpg)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_09.jpg)'
- en: 'We will get to see a variety of graphs for multiple pieces of information,
    as follows:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将看到各种图表，显示多种信息，如下所示：
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_10.jpg)'
  id: totrans-290
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_10.jpg)'
- en: 'This was about system load average usage and the next one is about the network
    status:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 这是关于系统负载平均使用情况的，接下来是关于网络状态的：
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_12.jpg)'
  id: totrans-292
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_12.jpg)'
- en: 'Now, let''s talk about some useful network monitoring tools. We will first
    talk about Netstat, which is one of the most common tools for monitoring a network''s
    incoming and outgoing traffic. It is very useful for network troubleshooting.
    It is usually installed on the system, so we only need to execute it:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们谈谈一些有用的网络监控工具。我们首先会谈论Netstat，这是监控网络流入和流出流量的最常见工具之一。它对于网络故障排除非常有用。它通常已安装在系统上，所以我们只需要执行它：
- en: '[PRE105]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: 'Then we will have this kind of output:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们将会有这样的输出：
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_11.jpg)'
  id: totrans-296
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_11.jpg)'
- en: 'After this, we have IPTraf, which is a real-time network-monitoring tool. It
    gathers information about network traffic activity, such as TCP, UDP, IP, and
    ICMP statistics, and then presents them in its interface. To install it, we need
    to use YUM:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是IPTraf，这是一个实时网络监控工具。它收集关于网络流量活动的信息，如TCP、UDP、IP和ICMP统计数据，然后在其界面中呈现出来。要安装它，我们需要使用YUM：
- en: '[PRE106]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: Then we just type its name to run it.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们只需键入其名称来运行它。
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_13.jpg)'
  id: totrans-300
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_13.jpg)'
- en: 'Finally, there is IfTop, which is an open source tool that reports network
    activities in real time. It is very useful for troubleshooting connections with
    outside servers, since it uses the `Pcap` library to capture incoming and outgoing
    packages on the desired network interface. To install it, we use yum again:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，还有IfTop，这是一个实时报告网络活动的开源工具。它对于故障排除与外部服务器的连接非常有用，因为它使用`Pcap`库来捕获所需网络接口上的传入和传出数据包。要安装它，我们再次使用yum：
- en: '[PRE107]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: 'Then, to use it, we need to type the command with the desired interface to
    listen to:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，要使用它，我们需要键入带有所需接口的命令来监听：
- en: '[PRE108]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: '![Introducing the Linux system and network monitoring tools](img/B04674_09_14.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![介绍Linux系统和网络监控工具](img/B04674_09_14.jpg)'
- en: References
  id: totrans-306
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考资料
- en: 'Now, let''s have a look at the references used throughout the chapter:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看一下本章中使用的参考资料：
- en: 'OpenSSH website: [http://www.openssh.com](http://www.openssh.com)'
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OpenSSH网站：[http://www.openssh.com](http://www.openssh.com)
- en: 'SpamAssassin website: [http://spamassassin.apache.org/](http://spamassassin.apache.org/)'
  id: totrans-309
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SpamAssassin网站：[http://spamassassin.apache.org/](http://spamassassin.apache.org/)
- en: 'Clamav website: [http://www.clamav.net/](http://www.clamav.net/)'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Clamav网站：[http://www.clamav.net/](http://www.clamav.net/)
- en: 'Mymap manual: [http://jeremy.zawodny.com/mysql/mytop/](http://jeremy.zawodny.com/mysql/mytop/)'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mymap手册：[http://jeremy.zawodny.com/mysql/mytop/](http://jeremy.zawodny.com/mysql/mytop/)
- en: 'Samba website: [https://www.samba.org/](https://www.samba.org/)'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Samba网站：[https://www.samba.org/](https://www.samba.org/)
- en: 'NFS wiki: [http://nfs.sourceforge.net/nfs-howto/ar01s03.html](http://nfs.sourceforge.net/nfs-howto/ar01s03.html)'
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NFS维基：[http://nfs.sourceforge.net/nfs-howto/ar01s03.html](http://nfs.sourceforge.net/nfs-howto/ar01s03.html)
- en: 'Trafshow wiki: [https://www.freshports.org/net/trafshow/](https://www.freshports.org/net/trafshow/)'
  id: totrans-314
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Trafshow维基：[https://www.freshports.org/net/trafshow/](https://www.freshports.org/net/trafshow/)
- en: 'Monitorix home page: [http://www.monitorix.org/](http://www.monitorix.org/)'
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Monitorix主页：[http://www.monitorix.org/](http://www.monitorix.org/)
- en: Summary
  id: totrans-316
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter was a summary of topics that we believe should be mentioned to
    any system administrator willing to administrate CentOS 7\. We started by presenting
    a way to easily access multiple machines from one place. We saw how to protect
    services, and it is a kind of best practice to make sure that the server is configured
    and secured. Then we presented a way to share data across multiple servers, which
    is very useful for both the installation phase and daily usage. Finally, we covered
    how to monitor our services' activities on both the system and the network.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 本章是我们认为应该提到任何愿意管理CentOS 7的系统管理员的主题的总结。我们首先介绍了一种可以轻松访问多台机器的方法。我们看到了如何保护服务，这是确保服务器配置和安全的一种最佳实践。然后我们介绍了一种在多台服务器之间共享数据的方法，这对安装阶段和日常使用都非常有用。最后，我们介绍了如何监视我们的服务在系统和网络上的活动。
- en: The job of a system administrator varies from time to time. Sometimes it gets
    easier and sometimes it gets harder, especially during a new installation. So,
    we have covered those tools that help soften the hard times and make them more
    manageable.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 系统管理员的工作有时会有所不同。有时会变得更容易，有时会变得更困难，特别是在新安装时。因此，我们已经涵盖了那些有助于缓解困难时期并使其更易管理的工具。
- en: We believe that this book is equivalent to Mastering Red Hat or Scientific Linux,
    which are resources that are very much in demand in the field of Linux system
    administration. As system administrators and as open source users, we believe
    that mastering this field requires more than just reading the book. You need to
    explore the part that we talked about briefly on making your own scenarios of
    testing and try to make it more complex. After all, we always learn from the hard
    experiences in our careers and not from the easiest ones.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 我们认为这本书相当于精通红帽或科学Linux，这些资源在Linux系统管理领域非常受欢迎。作为系统管理员和开源用户，我们认为精通这个领域需要的不仅仅是阅读这本书。您需要探索我们简要讨论的部分，制定自己的测试场景并尝试使其更加复杂。毕竟，我们总是从职业生涯中的艰难经历中学到东西，而不是从容易的经历中学到东西。
