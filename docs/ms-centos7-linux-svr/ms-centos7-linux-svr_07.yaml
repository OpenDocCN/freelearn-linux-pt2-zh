- en: Chapter 7. Cloud Computing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章 云计算
- en: The new generation of services provided via the Internet is known as cloud computing.
    In the computer industry, many organizations use cloud computing as they don't
    like to purchase the equipment that can resolve their resource solutions, or hire
    what is required to manage and maintain it. Cloud computing is like a third-party
    data source that offers various capabilities to store and process data.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 通过互联网提供的新一代服务被称为云计算。在计算机行业，许多组织使用云计算，因为他们不喜欢购买可以解决其资源问题的设备，或者雇佣所需的管理和维护人员。云计算就像第三方数据源，提供各种功能来存储和处理数据。
- en: Within the list of the best solutions for establishing a cloud-computing environment,
    we have chosen OpenStack. In this chapter, we will cover in brief what cloud computing
    is and how to set up a single node using OpenStack.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在建立云计算环境的最佳解决方案列表中，我们选择了OpenStack。在本章中，我们将简要介绍云计算是什么，以及如何使用OpenStack设置单个节点。
- en: 'Over the course of this chapter, we will go through the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的过程中，我们将涉及以下主题：
- en: Overview of cloud computing
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 云计算概述
- en: Cloud-computing services
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 云计算服务
- en: Introducing OpenStack
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍OpenStack
- en: Components of OpenStack
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OpenStack的组件
- en: Installing and setting up of OpenStack
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和设置OpenStack
- en: An overview of cloud computing
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云计算概述
- en: Cloud computing is the capacity to perform computing outside the usual way of
    relying on local machines. Cloud computing relies on shared resources to handle
    the needed calculation or treatment. It shares the same aspects as Grid computing
    where both technologies have its processing power gathered to resolve or treat
    problems too heavy for a standalone machine (server or a personal computer).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算是在不依赖本地机器的通常方式之外执行计算的能力。云计算依赖于共享资源来处理所需的计算或处理。它与网格计算具有相同的特点，两种技术都将其处理能力聚集起来解决或处理对独立机器（服务器或个人计算机）来说过于繁重的问题。
- en: The goal of cloud computing is to harness high supercomputing power to perform
    high-level computations in consumer-oriented applications, such as finance, personalized
    information delivery, data storage, and so on.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算的目标是利用高超级计算能力在面向消费者的应用程序中执行高级计算，例如金融、个性化信息传递、数据存储等。
- en: In order to perform this overwhelming task, cloud computing relies on a gigantic
    number of super powerful servers (blades…) connected through an extremely fast
    connection (InfiniBand (IB)) to share the workload across their computing units.
    This kind of infrastructure runs on specially configured systems, where they are
    linked together to simplify the task. Some infrastructures rely on virtualization
    technology to enhance their cloud computing.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 为了执行这项艰巨的任务，云计算依赖于大量超强大的服务器（刀片…）通过极快的连接（InfiniBand（IB））连接在一起，以在它们的计算单元之间共享工作负载。这种基础设施运行在特别配置的系统上，它们被连接在一起以简化任务。一些基础设施依赖于虚拟化技术来增强其云计算。
- en: '![An overview of cloud computing](img/B04674_07_10.jpg)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![云计算概述](img/B04674_07_10.jpg)'
- en: 'Source: [http://networksolutionsintl.com](http://networksolutionsintl.com)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://networksolutionsintl.com](http://networksolutionsintl.com)
- en: 'Briefly, the most precise reason for many companies to use cloud computing
    is that it enables them to make computer resources look like a utility, which
    they can pay for over time without having the real hardware on site and the burden
    of managing it and sustaining it within their team. Also, cloud computing offers
    many interesting features for enterprises, such as:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，许多公司使用云计算的最精确原因是，它使它们能够将计算资源看作是一种实用工具，可以随着时间付费，而无需在现场拥有真正的硬件并承担管理和维护的负担。此外，云计算为企业提供了许多有趣的功能，例如：
- en: '**Elasticity**: The capacity to scale computing resources up and down as the
    need requires'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**弹性**：根据需求扩展和缩减计算资源的能力'
- en: '**Self-service provisioning**: The capacity to provide the required amount
    of resources for the job, on demand'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自助服务供应**：根据需求提供所需数量的资源的能力'
- en: '**Pay per use**: The capacity to measure the resources used by the users so
    they only get charged for the resources they have used'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**按使用量付费**：衡量用户使用的资源的能力，使他们只需为他们使用的资源付费'
- en: 'Cloud computing has hugely evolved over time. However, it has always kept the
    main three board services:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 云计算随着时间的推移发展迅速。然而，它始终保持着主要的三个核心服务：
- en: '**Software as a Service** (**SaaS**)'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件即服务（SaaS）
- en: '**Platform as a Service** (**PaaS**)'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**平台即服务**（PaaS）'
- en: '**Infrastructure as a Service** (**IaaS**)'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基础设施即服务**（IaaS）'
- en: Software as a Service
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 软件即服务
- en: SaaS refers to every application running on a machine other than the current
    user machine, where the user has access to some or all of its services through
    their web browser, and sometimes through a thin client application that only works
    as a presentation interface. SaaS applications are generally accessible worldwide
    using any kind of device that can access the Internet (computer, mobile, and so
    on). The thing that makes an SaaS application work well is that it is a kind of
    scalable application where the user can process its treatment over as many virtual
    machines as needed to answer the load demand. Most cloud-computing infrastructures
    use a load-balancing system to organize the load between the virtual machines,
    where the application keeps running without any interruption and perform a better
    execution results.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: SaaS指的是在当前用户机器之外运行的每个应用程序，用户可以通过其Web浏览器访问其部分或全部服务，有时也可以通过仅作为演示界面的薄客户端应用程序访问。SaaS应用程序通常可以在全球范围内使用任何可以访问互联网的设备（计算机、移动设备等）。使SaaS应用程序运行良好的是它是一种可扩展的应用程序，用户可以根据需要在尽可能多的虚拟机上处理其处理以满足负载需求。大多数云计算基础设施使用负载平衡系统在虚拟机之间组织负载，应用程序可以在没有任何中断的情况下继续运行并获得更好的执行结果。
- en: '![Software as a Service](img/B04674_07_11.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![软件即服务](img/B04674_07_11.jpg)'
- en: 'Source: [http://icorees.com/](http://icorees.com/)'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://icorees.com/](http://icorees.com/)
- en: 'SaaS is characterized as follows:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: SaaS的特点如下：
- en: Its services are accessible for any connected device
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 其服务可供任何连接设备访问
- en: Easy-to-use application just after signing in
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 登录后即可使用易于使用的应用程序
- en: Where everything is stored on the cloud over hundreds of machines well configured
    for disasters such as disk crash and so on, plus user data and services are always
    available
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一切都存储在云上，分布在数百台机器上，配置良好，可以应对磁盘崩溃等灾难，此外用户数据和服务始终可用
- en: Computing power for applications is always scalable when needed
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用程序的计算能力在需要时始终是可扩展的
- en: We can distinguish some of the most famous SaaS that we use every day, such
    as e-mail services (Gmail, Yahoo…), social media and communication tools (Facebook,
    Skype…). All we need to use these daily services is an Internet connection and
    a device that has a web browser or a thin client application for mobile.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以区分一些我们每天使用的最著名的SaaS，比如电子邮件服务（Gmail，Yahoo…），社交媒体和通讯工具（Facebook，Skype…）。我们使用这些日常服务所需的只是互联网连接和具有Web浏览器或移动设备的薄客户端应用程序。
- en: Platform as a Service (PaaS)
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 平台即服务（PaaS）
- en: PaaS is a service that offers its clients the capacity to build and deploy applications
    on a cloud-based environment. PaaS acts like SaaS when providing scalability to
    its users. When deploying their applications, they have on-demand access to the
    needed resource to run their application, where it offers all those services without
    the pain of buying, maintaining and managing the hardware needed for the application
    to run, with all the logistics behind it. PaaS has been well developed to offer
    to its clients pre-prepared templates to simplify the initialization on the platform.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: PaaS是一种为客户提供在基于云的环境中构建和部署应用程序的能力的服务。PaaS在为用户提供可扩展性时就像SaaS一样。在部署他们的应用程序时，他们可以按需访问所需的资源来运行他们的应用程序，而无需购买、维护和管理应用程序运行所需的硬件，以及其背后的所有后勤工作。PaaS已经得到很好的发展，为其客户提供了预先准备的模板，以简化在平台上的初始化。
- en: '![Platform as a Service (PaaS)](img/B04674_07_12.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![平台即服务（PaaS）](img/B04674_07_12.jpg)'
- en: 'Source: [https://www.zoho.com/](https://www.zoho.com/)'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[https://www.zoho.com/](https://www.zoho.com/)
- en: 'We can distinguish some major benefits of using PaaS from the traditional solution,
    as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 使用PaaS相比传统解决方案有一些主要好处，如下所示：
- en: Speeds up the development of applications where the environment is already there,
    and makes it ready for marketing where it is already hosted
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加快了应用程序的开发，环境已经准备好，使其准备好上市
- en: Removes the complexity of managing the middleware and simplifies the task of
    having it
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 消除了管理中间件的复杂性，并简化了任务
- en: Simplifies the deployment of web applications
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 简化了Web应用程序的部署
- en: Infrastructure as a Service (IaaS)
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 基础设施即服务（IaaS）
- en: The third service is IaaS, a kind of service that offers its users everything
    needed to establish a fully qualified infrastructure. IaaS provides servers with
    different characteristics, network equipment, and storage space on demand. The
    user of the infrastructure has all the rights to manage his infrastructure as
    desired, with all the rights of a system and network administrator. This service
    offers its users more than just the infrastructure but a pack-kind of resource
    (small, medium, and extra-large computing power and memory) to answer the workload
    requirements. As we said before, users act as system and network administrators
    so as to deploy their applications. They then need to establish their networks,
    install the desired OS, and set up their machines, where the users also maintain,
    manage and update their systems manually, as desired.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 第三项服务是IaaS，一种为用户提供建立完全合格基础设施所需的服务。IaaS提供具有不同特征的服务器、网络设备和按需存储空间。基础设施的用户拥有管理其基础设施的所有权利，具有系统和网络管理员的所有权利。该服务为用户提供的不仅仅是基础设施，还有一种资源包（小型、中型和超大型计算能力和内存）来满足工作负载要求。正如我们之前所说，用户可以作为系统和网络管理员来部署他们的应用程序。然后他们需要建立他们的网络，安装所需的操作系统，并设置他们的机器，用户还需要手动维护、管理和更新他们的系统。
- en: '![Infrastructure as a Service (IaaS)](img/B04674_07_13.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![基础设施即服务（IaaS）](img/B04674_07_13.jpg)'
- en: 'Source: [http://cloudplus.com/](http://cloudplus.com/)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://cloudplus.com/](http://cloudplus.com/)
- en: 'The benefits of IaaS can be summed up as follows:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: IaaS的好处可以总结如下：
- en: It removes the task of investing in hardware
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它消除了投资硬件的任务
- en: As with other cloud solutions, IaaS is scalable on demand to answer the user
    need for resources and equipment
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与其他云解决方案一样，IaaS可以根据需求进行可扩展，以满足用户对资源和设备的需求
- en: A variety of flexible and innovative services are provided as per user requirements![Infrastructure
    as a Service (IaaS)](img/B04674_07_01.jpg)
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据用户需求提供各种灵活和创新的服务！[基础设施即服务（IaaS）](img/B04674_07_01.jpg)
- en: Cloud computing services
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云计算服务
- en: 'After explaining the different types of cloud computing, we should now have
    a look at how those services are provided. For that, we categorize them into three
    major types: public cloud, private cloud, and hybrid cloud.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 在解释了不同类型的云计算之后，我们现在应该看一下这些服务是如何提供的。为此，我们将它们分类为三种主要类型：公共云、私有云和混合云。
- en: Public cloud
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 公共云
- en: We will start by introducing the public cloud. The public cloud, as its name
    suggests, is a publicly available cloud. Usually, a public cloud service is scalable
    on how much the user is willing to pay, either for resources or special services.
    Since it is on the cloud, users don't have to worry about hardware purchases,
    management, and maintenance. Most services provided as a public cloud are SaaS,
    with a small number as PaaS. Most of those services are available on demand. Usually,
    the users are charged for the resources they are using (CPU, memory, storage,
    Internet bandwidth) more than for the service itself.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先介绍公共云。公共云，顾名思义，是公开可用的云。通常，公共云服务可以根据用户愿意支付的金额进行扩展，无论是资源还是特殊服务。由于它在云上，用户不必担心硬件购买、管理和维护。大多数作为公共云提供的服务都是SaaS，只有少数是PaaS。大多数这些服务都是按需提供的。通常，用户支付的是他们使用的资源（CPU、内存、存储、互联网带宽）而不是服务本身。
- en: '![Public cloud](img/B04674_07_14.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![公共云](img/B04674_07_14.jpg)'
- en: 'Source: [http://nextgenaccess.zserver.co.uk/](http://nextgenaccess.zserver.co.uk/)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://nextgenaccess.zserver.co.uk/](http://nextgenaccess.zserver.co.uk/)
- en: Resources sharing on a public cloud appear when multiple users access the same
    service where it is hosted on one or many servers, and also where those servers
    need to process the tasks sent by the clients. Some infrastructures are better
    than others whereby they can handle really heavy traffic; others may find it a
    bit more difficult. On this stage, clients may experience slowness in their application
    and that is what really affects the service in a bad way.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在公共云上共享资源出现在多个用户访问托管在一个或多个服务器上的相同服务的情况下，也在这些服务器需要处理客户发送的任务的情况下。一些基础设施比其他基础设施更好，因为它们可以处理非常繁重的流量；其他可能会发现这有些困难。在这个阶段，客户可能会在他们的应用程序中经历速度变慢，这确实会以不好的方式影响服务。
- en: Private cloud
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 私有云
- en: In contrast to the public cloud, the private cloud is a kind of dedicated service
    for one user or one organization. Being used by one customer does not make it
    different to any other cloud. It can still be managed and administrated by a third-party
    company or by an internal team.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 与公共云相比，私有云是一种专门为一个用户或一个组织提供的服务。被一个客户使用并不意味着它与任何其他云有所不同。它仍然可以由第三方公司或内部团队进行管理和管理。
- en: Most organizations tend to use a private cloud due to its advantages of allocation
    and to be able to control the resources. This is different from the public cloud
    where it is shared between multiple users. Also the public cloud features a self-service
    interface that helps and simplifies the resources management and allocation for
    system administrators with a faster method on demand, more advanced security protocols
    for better security of the user data, and an advanced automated system that helps
    with the resource management to optimize the workload.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数组织倾向于使用私有云，因为它具有分配和控制资源的优势。这与公共云不同，后者在多个用户之间共享。此外，公共云具有自助服务界面，可帮助简化系统管理员的资源管理和分配，以及更快的按需方法，更先进的安全协议以更好地保护用户数据的安全，以及帮助优化工作负载的先进自动化系统。
- en: '![Private cloud](img/B04674_07_15.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![私有云](img/B04674_07_15.jpg)'
- en: 'Source: [http://blogs.dlt.com](http://blogs.dlt.com)'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://blogs.dlt.com](http://blogs.dlt.com)
- en: Hybrid cloud
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 混合云
- en: A hybrid cloud is a combination of the public cloud and the private cloud. To
    be more specific, the private cloud can sometimes be very expensive and hard to
    adjust, especially for little applications that do not require the advantages
    that the private cloud is offering. While a public cloud is not that much more
    expensive a solution, and has the advantage of fast deployment of its applications,
    organizations tend to mix the use of both services, depending on their needs,
    and that's what has made the hybrid cloud popular. The hybrid cloud allows organizations
    to keep important data on their private cloud and offer light services such as
    SaaS on a public cloud, with the capacity to switch to the desired service whenever
    needed.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 混合云是公共云和私有云的结合。更具体地说，私有云有时可能非常昂贵且难以调整，特别是对于不需要私有云提供的优势的小型应用。而公共云的解决方案并不那么昂贵，而且具有快速部署应用程序的优势，组织倾向于根据自己的需求混合使用这两种服务，这就是混合云变得流行的原因。混合云允许组织将重要数据保存在其私有云上，并在公共云上提供诸如SaaS之类的轻型服务，具有在需要时切换到所需服务的能力。
- en: '![Hybrid cloud](img/B04674_07_16.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![混合云](img/B04674_07_16.jpg)'
- en: 'Source: [http://www8.hp.com](http://www8.hp.com)'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://www8.hp.com](http://www8.hp.com)
- en: Introducing OpenStack
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍OpenStack
- en: We have now thoroughly described cloud computing, its services, and how a customer
    can utilize these services. Now, we need to talk about our role in this. Knowing
    how to use a cloud-computing service, such as an IaaS to deploy an infrastructure
    on it, is not really one of the hardest tasks for a system administrator. But
    the one that every system administrator should know is how to deploy one and how
    to offer those services to their clients. In this section, we are going to explore
    how to have a cloud running within our infrastructure and how to provide those
    services running on our CentOS 7 server. To perform this task we will be using
    one of the most famous open source cloud solutions for Linux, OpenStack, which
    is a free cloud-computing solution that helps initiate, manage, and sustain a
    huge pool of virtual machines with the required resources (CPU, memory, networking,
    and storage). This infrastructure is managed through a user-friendly web interface
    that helps present the status of the nodes to the system administrator, and gives
    them easy access to manage the infrastructure resources. OpenStack provides open
    source and enterprise services as per the user's demands, which make it well used
    by multiple organizations.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经彻底描述了云计算、其服务以及客户如何利用这些服务。现在，我们需要谈谈我们在其中的角色。了解如何使用云计算服务，例如IaaS来部署基础设施，对于系统管理员来说并不是最困难的任务。但每个系统管理员都应该知道如何部署并如何向他们的客户提供这些服务。在本节中，我们将探讨如何在我们的基础设施中运行云，并如何在我们的CentOS
    7服务器上运行这些服务。为了执行这项任务，我们将使用Linux最著名的开源云解决方案之一，即OpenStack，这是一个免费的云计算解决方案，可帮助启动、管理和维护所需资源（CPU、内存、网络和存储）的大量虚拟机。该基础设施通过用户友好的Web界面进行管理，帮助向系统管理员呈现节点的状态，并为他们提供轻松访问以管理基础设施资源。OpenStack根据用户的需求提供开源和企业服务，因此被多个组织广泛使用。
- en: Today, OpenStack is used by hundreds of worldwide organizations to maintain
    their cloud infrastructure where they use it to have their cloud solutions up
    and running, and where it is used for both public or private cloud services. Most
    organizations providing cloud services, to either the public or private, use OpenStack
    to deliver an IaaS service.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 今天，全球数百家组织使用OpenStack来维护他们的云基础设施，他们使用它来使他们的云解决方案正常运行，并且它被用于公共或私有云服务。大多数提供云服务的组织，无论是公共云还是私有云，都使用OpenStack提供IaaS服务。
- en: '![Introducing OpenStack](img/B04674_07_02.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![介绍OpenStack](img/B04674_07_02.jpg)'
- en: 'Source: [https://www.openstack.org/software/](https://www.openstack.org/software/)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.openstack.org/software/](https://www.openstack.org/software/)'
- en: 'OpenStack manages three major sections under its API: compute, networking and
    storage. Through this API, OpenStack creates a sustainable environment for the
    infrastructures it manages.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack在其API下管理三个主要部分：计算、网络和存储。通过这个API，OpenStack为其管理的基础设施创建了一个可持续的环境。
- en: OpenStack compute
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: OpenStack计算
- en: OpenStack compute is the capacity to offer computing resources on demand for
    the customer while managing the resources that have been requested. OpenStack
    compute not only offers what the customers are running on their applications but
    also ensures that the service itself is running well by organizing the resources
    and the applications. OpenStack compute is accessible via both the web interface
    for administration and via the API for developing and building applications. This
    architecture enables economic usage of the physical hardware where it scales it
    horizontally. This technology also manages and automates a huge pool of computing
    resources, while it offers a compatibility with a variety of virtualization technologies.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack计算是在客户端需求时提供计算资源，并管理已请求的资源。OpenStack计算不仅提供客户端应用程序的运行情况，还通过组织资源和应用程序来确保服务本身的良好运行。OpenStack计算可通过Web界面进行管理，也可通过API进行开发和构建应用程序。这种架构使得物理硬件的经济使用可以横向扩展。这项技术还管理和自动化了大量的计算资源，并与各种虚拟化技术兼容。
- en: OpenStack networking
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: OpenStack网络
- en: OpenStack networking is the capacity to manage networking for the cloud resources
    managed by OpenStack. This technology ensures that the network resources connecting
    the cloud infrastructure are always available and do not contain any bottlenecks,
    other that just performing what a network administrator should do to maintain
    its infrastructure network.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack网络是管理OpenStack管理的云资源的网络能力。这项技术确保连接云基础设施的网络资源始终可用，并且不包含任何瓶颈，只需执行网络管理员应该做的维护基础设施网络的任务。
- en: OpenStack networking offers a flexible networking model to answer needs such
    as flat networks, VLAN configurations, GRE, and VXLAN. It provides the same services
    that the ordinary physical network hardware provides such as routing, NAT and
    DHCP, and static IP association. IT is also equipped with an intelligent system
    that helps redirect traffic in case of a failure or overload, to help maintain
    a better networking capacity. OpenStack networking not only supports automated
    network management but also offers its users the capacity to manage their network
    manually by adjusting their proper connections, and connect servers and terminals
    to each other as required. Users can also take advantage of **Software-defined
    networking** (**SDN**) technology for a multi-tenancy configuration and massive
    scale such as OpenFlow. It also offers support for advanced networking services
    architecture from multiple common vendors. Finally, it offers an advanced extension
    that integrates common network administration techniques such as VPN for private
    connection, IDS for reinforcing security, load balancing, firewalls for setting
    access rules, and so on.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack网络提供了灵活的网络模型，以满足扁平网络、VLAN配置、GRE和VXLAN等需求。它提供了与普通物理网络硬件提供的相同服务，如路由、NAT和DHCP，以及静态IP关联。它还配备了一个智能系统，可以在故障或过载的情况下帮助重定向流量，以帮助维护更好的网络容量。OpenStack网络不仅支持自动化网络管理，还为用户提供了手动管理网络的能力，通过调整适当的连接，连接服务器和终端。用户还可以利用软件定义的网络（SDN）技术进行多租户配置和大规模配置，如OpenFlow。它还支持来自多个常见供应商的高级网络服务架构。最后，它提供了一个集成常见网络管理技术的高级扩展，如用于私人连接的VPN，用于加固安全性的IDS，用于设置访问规则的负载平衡和防火墙等。
- en: OpenStack storage
  id: totrans-76
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: OpenStack存储
- en: OpenStack storage is the data storage services offered by OpenStack inside its
    architecture. Through its fully distributed API storage platform, cloud applications
    can access storage space through multiple technologies and architectures (archiving,
    backup, data retention). Storage with OpenStack is always scalable, to answer
    the user and application's demands, by allowing block devices to be added to each
    other and assuring a better performance. OpenStack storage has the capacity to
    be integrated with enterprise storage platforms such as SolidFire and NetApp.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack存储是OpenStack架构内提供的数据存储服务。通过其完全分布式的API存储平台，云应用程序可以通过多种技术和架构（归档、备份、数据保留）访问存储空间。OpenStack存储始终是可扩展的，以满足用户和应用程序的需求，通过允许块设备相互添加并确保更好的性能。OpenStack存储具有与SolidFire和NetApp等企业存储平台集成的能力。
- en: Components of OpenStack
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: OpenStack的组件
- en: OpenStack is a very big platform that has many small components, assuring the
    full functionality of its services. Most of those components are made by the open
    source community to help meet the needs of its users. For this section, we are
    going to talk about the OpenStack community components as part of its core. What
    characterizes those components are that they are maintained by the OpenStack community,
    to be presented as part of the solution.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack是一个非常庞大的平台，拥有许多小组件，确保其服务的完整功能。其中大多数组件都是由开源社区制作的，以帮助满足用户的需求。在本节中，我们将讨论OpenStack社区组件作为其核心的一部分。这些组件的特点是它们由OpenStack社区维护，作为解决方案的一部分呈现出来。
- en: '![Components of OpenStack](img/B04674_07_17.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![OpenStack的组件](img/B04674_07_17.jpg)'
- en: 'Source: [http://redhatstackblog.redhat.com/](http://redhatstackblog.redhat.com/)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://redhatstackblog.redhat.com/](http://redhatstackblog.redhat.com/)
- en: 'These components are described as follows:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 这些组件描述如下：
- en: '**Horizon**: This is the component responsible of setting up the OpenStack
    dashboard. It is from where the OpenStack administrator manages the infrastructure.
    It is the only graphical interface OpenStack has, so far. Horizon provides a look
    into what is happening in the cloud infrastructure and gives to the system administrators
    some functionality to manage it. On the other hand, the dashboard does not support
    developer''s access. There is always an **application-programming interface**
    (**API**) where they can access resources and other aspects of the cloud.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Horizon：这是负责设置OpenStack仪表板的组件。这是OpenStack管理员管理基础设施的地方。到目前为止，它是OpenStack唯一的图形界面。Horizon提供了对云基础设施中发生的事情的了解，并为系统管理员提供了一些管理功能。另一方面，仪表板不支持开发人员的访问。开发人员始终可以通过**应用程序编程接口**（**API**）访问云的资源和其他方面。
- en: '**Nova**: This is OpenStack''s primary computing engine. It is the main component
    responsible for deploying and managing the virtual machines of the cloud infrastructure,
    rather than just being a small infrastructure or a grid of super computers. It
    also manages and organizes other instances such as handling cloud-computing tasks.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Nova：这是OpenStack的主要计算引擎。它是负责部署和管理云基础设施的虚拟机的主要组件，而不仅仅是一个小型基础设施或一组超级计算机。它还管理和组织其他实例，如处理云计算任务。
- en: '**Neutron**: This is OpenStack''s networking component. It is basically the
    one essential part to ensure networking between different components of the cloud
    infrastructure. It also supports multiple technologies to make sure that communication
    is reliable.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Neutron：这是OpenStack的网络组件。它基本上是确保云基础架构的不同组件之间进行网络通信的一个重要部分。它还支持多种技术，以确保通信可靠。
- en: '**Keystone**: This is the service responsible for identifying management for
    OpenStack. It organizes the users using the cloud and also organizes their access
    permissions. It organizes the resources which they are using. It is also a great
    help for the developer for tracking user usage and access methods.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Keystone：这是负责识别OpenStack管理的服务。它组织使用云的用户，并组织他们的访问权限。它组织他们正在使用的资源。它还对开发人员跟踪用户使用和访问方法提供了很大帮助。
- en: '**Swift**: This is the component responsible of the storage system for OpenStack.
    It stores the data in an advanced method where the developers only specify the
    file as a piece of information, and OpenStack decides where to store that, which
    helps with scaling and resolves storage capacity issues. It makes most of the
    common tasks, such as backup and security, the responsibility of the system more
    than the developer.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Swift：这是负责OpenStack存储系统的组件。它以一种先进的方法存储数据，开发人员只需将文件指定为信息的一部分，OpenStack决定在哪里存储，这有助于扩展并解决存储容量问题。它使大多数常见任务，如备份和安全性，成为系统而不是开发人员的责任。
- en: '**Cinder**: This is a smaller storage component that organizes block storage.
    It helps with the enhancement of data access in the disk drive and organizes in
    traditional ways the speed of data access depending on the need.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cinder：这是一个较小的存储组件，用于组织块存储。它有助于增强磁盘驱动器中的数据访问，并根据需要以传统方式组织数据访问速度。
- en: '**Heat**: This is the OpenStack orchestration component. It is a method to
    store information about cloud applications where it has defined the resources
    needed for that application for better organization of the cloud infrastructure.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Heat：这是OpenStack的编排组件。它是一种存储有关云应用程序信息的方法，其中已经定义了该应用程序所需的资源，以更好地组织云基础设施。
- en: '**Glance**: This is the component that organizes the virtual copies of the
    hard disks, what are known as images, to be used later as templates for deploying
    new virtual machines.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Glance：这是组织硬盘的虚拟副本，即所谓的镜像，以便稍后用作部署新虚拟机的模板的组件。
- en: '**Ceilometer**: This is the component that helps with the billing services
    for cloud usage by individual users. It acts as a meter that reports the system
    usage during the period where the user starts using the cloud.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ceilometer：这是帮助个人用户云使用计费服务的组件。它充当一个报告系统使用情况的计量器，用户开始使用云的期间。
- en: These components are very important where some of them depend on the other,
    and many basic cloud services won't be available if some of them become disabled
    or excluded. One of the components that is very important is the orchestration
    component where it helps organize a large number of machines and perform high-computer
    processing without any difficulty.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 这些组件非常重要，其中一些依赖于其他组件，如果其中一些组件被禁用或排除，许多基本的云服务将不可用。其中一个非常重要的组件是编排组件，它有助于组织大量的机器并执行高性能计算而无需任何困难。
- en: Installing and configuring OpenStack
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和配置OpenStack
- en: After a brief explanation of cloud computing and OpenStack, we can now move
    on to OpenStack installation on a CentOS 7 Linux server. First of all, we are
    going to make a few basic environment configurations and then set it up.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在对云计算和OpenStack进行简要解释之后，我们现在可以继续在CentOS 7 Linux服务器上安装OpenStack。首先，我们将进行一些基本的环境配置，然后进行设置。
- en: 'For this installation, we will have our cloud infrastructure as follows:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个安装，我们将把我们的云基础设施设置如下：
- en: 'The Router/Gateway server as *e*th machine to provide Internet access to the
    external websites, with the IP address: `10.0.1.1`'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 路由器/网关服务器作为*e*th机器，为外部网站提供互联网访问，IP地址为：`10.0.1.1`
- en: 'The cloud server to host OpenStack, with the IP address: `10.0.1.2`'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 托管OpenStack的云服务器，IP地址为：`10.0.1.2`
- en: 'The hosts that will be used for the cloud computing, with their IP addresses
    as follows: `10.0.1.4`, `10.0.1.5`, `10.0.1.6`'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于云计算的主机，其IP地址如下：`10.0.1.4`，`10.0.1.5`，`10.0.1.6`
- en: 'To have OpenStack well secured, the community integrated many services to ensure
    that some of those services secure data access and user authentication with encrypted
    data transmission. For this action, we will need to have OpenSSL installed on
    our cloud server so that OpenStack can use it to run its services:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使OpenStack安全可靠，社区集成了许多服务，以确保其中一些服务通过加密数据传输来保护数据访问和用户认证。为此，我们需要在我们的云服务器上安装OpenSSL，以便OpenStack可以使用它来运行其服务：
- en: '[PRE0]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To have a safe installation without errors, we need to disable the firewall,
    if there is one, like this:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为了安全安装而没有错误，如果有防火墙，我们需要禁用它，就像这样：
- en: '[PRE1]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Then we need to make sure that the server is connected to the local network
    and has Internet access. To do so, we need to ping one machine at the local network
    and a nicely working web server ([https://www.google.co.in/](https://www.google.co.in/)):'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要确保服务器连接到本地网络并具有互联网访问权限。为此，我们需要ping本地网络上的一台机器和一个工作正常的网页服务器（[https://www.google.co.in/](https://www.google.co.in/)）：
- en: '[PRE2]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The result of the test should look like the following:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 测试的结果应该如下所示：
- en: '![Installing and configuring OpenStack](img/B04674_07_03.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_03.jpg)'
- en: 'Then we need to add all the nodes involved (controller node, network node,
    compute node, object storage node, and block storage node):'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要添加所有涉及的节点（控制节点、网络节点、计算节点、对象存储节点和块存储节点）：
- en: '[PRE3]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Next, to have the nodes well synchronized among each other, we need to set
    up a time server to configure a time for all the servers. To do this, we will
    be using the NTP service. First, however, we need to install it:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，为了使节点之间同步良好，我们需要设置一个时间服务器来为所有服务器配置时间。为此，我们将使用NTP服务。但首先，我们需要安装它：
- en: '[PRE4]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Then we need to start it and make it run at system startup:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要启动它，并使其在系统启动时运行：
- en: '[PRE5]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'To verify the installation, we need to use the following command:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 要验证安装，我们需要使用以下命令：
- en: '[PRE6]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'To see the output of this command, have a look at the following:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看此命令的输出，请参考以下内容：
- en: '![Installing and configuring OpenStack](img/B04674_07_04.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_04.jpg)'
- en: '[PRE7]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'To see the output of this command, refer to the following:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看此命令的输出，请参考以下内容：
- en: '![Installing and configuring OpenStack](img/B04674_07_05.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_05.jpg)'
- en: We need to see `sys.peer` in the condition column at any line.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要在任何一行的条件列中看到`sys.peer`。
- en: Note
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: We need to do the same for all the involved nodes.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要对所有涉及的节点执行相同的操作。
- en: 'Now, we put SELinux into permissive mode:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将SELinux设置为宽松模式：
- en: '[PRE8]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Then consider this line:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 然后考虑这一行：
- en: '[PRE9]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Change it to the following line:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 将其更改为以下行：
- en: '[PRE10]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Then we should reboot the system so that the change can take effect.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们应该重新启动系统，以使更改生效。
- en: 'After the system starts up, we can move on to the package source configuration.
    First, we need to make sure that our system packages are all updated:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 系统启动后，我们可以继续进行软件包源配置。首先，我们需要确保我们的系统软件包都已更新：
- en: '[PRE11]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Then we install the `epel` repository:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们安装`epel`仓库：
- en: '[PRE12]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Next, we check whether the additional EPEL repository is enabled:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们检查额外的EPEL仓库是否已启用：
- en: '[PRE13]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'We need to make sure that all modules `([epel] [epel-debuginfo] [epel-source]`)
    are enabled:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 我们需要确保所有模块（[epel] [epel-debuginfo] [epel-source]）都已启用：
- en: '[PRE14]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Then we proceed to install the YUM plugin priorities to enable assignment of
    relative priorities within repositories:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们继续安装YUM插件优先级，以在仓库内分配相对优先级：
- en: '[PRE15]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Finally, we can set up the OpenStack repository:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们可以设置OpenStack仓库：
- en: '[PRE16]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'To make OpenStack automatically manage security policies for its services,
    we need to install the OpenStack-SELinux package:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让OpenStack自动管理其服务的安全策略，我们需要安装OpenStack-SELinux包：
- en: '[PRE17]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Just before installing the official package for the OpenStack service, we will
    be installing some tools needed for the SELinux policies for OpenStack of our
    cloud-computing platform. We will first install the database server. For that,
    we will have the Python MySQL library and the MariaDB server:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装OpenStack服务的官方包之前，我们将安装一些用于我们云计算平台OpenStack的SELinux策略所需的工具。我们将首先安装数据库服务器。为此，我们将安装Python
    MySQL库和MariaDB服务器：
- en: '[PRE18]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'After having MariaDB installed, we need to go ahead and configure it. First,
    we need to start the database server and add it to the system startup:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装了MariaDB之后，我们需要继续配置它。首先，我们需要启动数据库服务器并将其添加到系统启动项中：
- en: '[PRE19]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: By default, OpenStack is installed with a no password policy for the root. We
    need to change that during the first use, while performing a secure setup.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，OpenStack安装时为root用户设置了无密码策略。在第一次使用时，我们需要更改它以进行安全设置。
- en: 'At this point, we have properly set all the required tools and configurations.
    We can start the OpenStack package installation. We can install each OpenStack
    component individually, or make it faster by installing and configuring them all
    at the same time. To do so, we will be using the `yum` package manager:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，我们已经正确设置了所有所需的工具和配置。我们可以开始安装OpenStack包。我们可以单独安装每个OpenStack组件，或者通过同时安装和配置它们来加快速度。为此，我们将使用`yum`包管理器：
- en: '[PRE20]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'For a single-node OpenStack deployment, we should use the following command
    to configure it:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 对于单节点OpenStack部署，我们应该使用以下命令进行配置：
- en: '[PRE21]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: We should see a message that starts as follows to conclude that the installation
    is done correctly and the configuration has been started properly. This may take
    some time to finish.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我们应该看到以下消息开头，以确定安装是否正确完成并且配置已经正确启动。这可能需要一些时间来完成。
- en: '![Installing and configuring OpenStack](img/B04674_07_06.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_06.jpg)'
- en: 'The following screen appears if the configuration is done properly:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 如果配置正确，将出现以下屏幕：
- en: '![Installing and configuring OpenStack](img/B04674_07_07.jpg)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_07.jpg)'
- en: After getting the configuration done, there will be two authentication credentials
    generated to be used by the administrator. The first is for the Nagios Server.
    The login and the password will appear on the screen, so we need to save them
    to change the password later. The second one is for the OpenStack dashboard, which
    will be stored in a file at the `root` directory, called `keystonerc_admin`.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 配置完成后，将生成两个用于管理员使用的身份验证凭据。第一个是用于Nagios服务器的。登录名和密码将显示在屏幕上，因此我们需要保存它们以便稍后更改密码。第二个是用于OpenStack仪表板的，它将存储在`root`目录中的一个名为`keystonerc_admin`的文件中。
- en: 'The first of the two web interfaces should look like this as a confirmation
    that the node is running:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 两个Web界面中的第一个应该如此，以确认节点正在运行：
- en: '![Installing and configuring OpenStack](img/B04674_07_08.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_08.jpg)'
- en: 'The second interface looks like what is shown in the following screenshot:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个界面看起来像以下截图所示：
- en: '![Installing and configuring OpenStack](img/B04674_07_09.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_09.jpg)'
- en: 'Now we can move on to the network-bridging configuration. We need to create
    a bridge interface:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以继续进行网络桥接配置。我们需要创建一个桥接接口：
- en: '[PRE22]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'After creating the file, we need to put the following code into it:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 创建文件后，我们需要将以下代码放入其中：
- en: '[PRE23]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Then we add the following lines to the Neutron configuration file to look like
    the following in the `[ovs]` module:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们将以下行添加到Neutron配置文件中，使其在`[ovs]`模块中如下所示：
- en: '[PRE24]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Next, we restart the network:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们重新启动网络：
- en: '[PRE25]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: The following part is optional, wherein we are going to show in detail what
    happens if we run the manual way and not the automatic interactive way.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的部分是可选的，我们将详细介绍如果我们以手动方式而不是自动交互方式运行会发生什么。
- en: 'If we want to deploy other nodes manually, we should be using `packstack` with
    the `--install-hosts` option and then put the other host IP address:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们想要手动部署其他节点，我们应该使用`packstack`和`--install-hosts`选项，然后输入其他主机的IP地址：
- en: '[PRE26]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'If there are many hosts, we can add a comma (,) between the IP addresses:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有许多主机，我们可以在IP地址之间添加逗号（,）：
- en: '[PRE27]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'While this command is executed, we will be asked to type the root password
    from each system individually to connect to the system, install OpenStack, and
    take control over it:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行此命令时，我们将被要求分别输入每个系统的root密码，以连接到系统，安装OpenStack并接管它：
- en: '[PRE28]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'We know that the installation is done when we see the following message:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们看到以下消息时，我们知道安装已完成：
- en: '[PRE29]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'An answer file containing all the chosen configuration options is saved to
    the disk in the system from which we run `packstack`. This file can be used to
    automate future deployments:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 包含所有选择的配置选项的答案文件将保存在我们运行`packstack`的系统的磁盘上。此文件可用于自动化未来的部署：
- en: '[PRE30]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'A file containing the authentication details of the OpenStack admin user is
    saved to the disk in the system on which the OpenStack client tools were deployed.
    We will need these details to manage the OpenStack environment:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 包含OpenStack管理员用户的身份验证详细信息的文件将保存在部署OpenStack客户端工具的系统的磁盘上。我们将需要这些详细信息来管理OpenStack环境：
- en: '[PRE31]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'We can run `packstack` interactively to create both single-node and multiple-node
    OpenStack deployments:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以交互式运行`packstack`来创建单节点和多节点OpenStack部署：
- en: '[PRE32]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: After running this command, we need to follow the list of steps to have the
    nodes deployed.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 运行此命令后，我们需要按照部署节点的步骤列表进行操作。
- en: 'First, it will ask for the public key to be stored in the server to get automatic
    SSH access, so we need to have one generated already:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，它将要求将公钥存储在服务器中以获得自动SSH访问权限，因此我们需要已经生成一个：
- en: '[PRE33]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Then we give its location, which is `~/.ssh/id_rsa.pub`:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们给出其位置，即`~/.ssh/id_rsa.pub`：
- en: '[PRE34]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Next, we select the services that we need to deploy. We can choose whatever
    we need:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们选择需要部署的服务。我们可以选择任何我们需要的：
- en: '[PRE35]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Each selected service can be deployed on either a local or a remote system.
    Where each service is deployed will be determined based on the IP addresses that
    we provide later in the deployment process.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 每个选择的服务都可以部署在本地或远程系统上。将根据我们稍后在部署过程中提供的IP地址来确定每个服务的部署位置。
- en: 'OpenStack includes a number of client tools. Enter `y` to install the client
    tools. A file containing the authentication values of the administrative user
    will also be created:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack包括许多客户端工具。输入`y`来安装客户端工具。还将创建一个包含管理员用户的身份验证值的文件：
- en: '[PRE36]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Optionally, the `packstack` script will configure all servers in the deployment
    to retrieve date and time information using the **Network Time Protocol** (**NTP**).
    To use this facility, enter a comma-separated pool of NTP servers:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 可选地，`packstack`脚本将配置部署中的所有服务器，以使用**网络时间协议**（**NTP**）检索日期和时间信息。要使用此功能，请输入逗号分隔的NTP服务器池：
- en: '[PRE37]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Optionally, the `packstack` script will install and configure Nagios to provide
    advanced facilities for monitoring the nodes in the OpenStack environment:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 可选地，`packstack`脚本将安装和配置Nagios，以提供对OpenStack环境中节点的高级监控设施：
- en: '[PRE38]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: We now move on to the configuration of the MySQL Instance. OpenStack services
    require a MySQL database to store data in. To configure the database, we go through
    the following.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们继续配置MySQL实例。OpenStack服务需要MySQL数据库来存储数据。要配置数据库，我们按照以下步骤进行。
- en: 'We type the IP address of the server to deploy the MySQL database server on:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 我们输入要在其上部署MySQL数据库服务器的服务器的IP地址：
- en: '[PRE39]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Enter the password to be used for the MySQL administrative user. If we do not
    enter a value, it will be generated randomly. The generated password will be available
    in both the `~/.my.cnf` file of the current user and the answer file:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 输入要用于MySQL管理用户的密码。如果我们不输入值，它将随机生成。生成的密码将在当前用户的`~/.my.cnf`文件和答案文件中都可用：
- en: '[PRE40]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'OpenStack services use the Qpid messaging system to communicate. Enter the
    IP address of the server to deploy Qpid on:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack服务使用Qpid消息系统进行通信。输入要部署Qpid的服务器的IP地址：
- en: '[PRE41]'
  id: totrans-205
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'OpenStack uses keystone (openstack-keystone) for identity, token, catalog,
    and policy services. If the keystone installation has been selected, then enter
    the IP address of the server to deploy keystone on when prompted:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack使用keystone（openstack-keystone）提供身份、令牌、目录和策略服务。如果选择了keystone安装，则在提示时输入要部署keystone的服务器的IP地址：
- en: '[PRE42]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'OpenStack uses glance (`openstack-glance-*`) to store, discover, and retrieve
    virtual machine images. If the glance installation has been selected, then enter
    the IP address of the server to deploy glance on when prompted:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack使用glance（`openstack-glance-*`）来存储、发现和检索虚拟机镜像。如果选择了glance安装，则在提示时输入要部署glance的服务器的IP地址：
- en: '[PRE43]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'To provide volume storage services, OpenStack uses Cinder (`openstack-cinder-*`).
    Enter the IP address of the server to deploy Cinder on. If the installation of
    the volume services was selected, then these additional configuration prompts
    will be presented:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 为提供卷存储服务，OpenStack使用Cinder（`openstack-cinder-*`）。输入要在其上部署Cinder的服务器的IP地址。如果选择了卷服务的安装，则将呈现这些额外的配置提示：
- en: '[PRE44]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: The `packstack` utility expects the storage for use with Cinder to be available
    in a volume group named cinder-volumes. If this volume group does not exist, then
    we will be asked whether we want it to be created automatically.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '`packstack`实用程序期望用于Cinder的存储可用于名为cinder-volumes的卷组。如果此卷组不存在，则将询问我们是否要自动创建它。'
- en: 'Answering `yes` means that `packstack` will create a raw disk image in `/var/lib/cinder`
    and mount it for use by Cinder using a loopback device:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 回答“是”意味着`packstack`将在`/var/lib/cinder`中创建一个原始磁盘映像，并使用回环设备挂载它供Cinder使用：
- en: '[PRE45]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'If we chose to have packstack create the cinder-volumes volume group, then
    we will be prompted to enter its size in **gigabytes** (**GB**):'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们选择让packstack创建cinder-volumes卷组，那么我们将被提示输入其大小（以**GB**为单位）：
- en: '[PRE46]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: OpenStack uses Nova to provide compute services. Nova is itself made up of a
    number of complementary services that must be deployed. If the installation of
    the compute services was selected, then these additional configuration prompts
    will be presented.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack使用Nova提供计算服务。Nova本身由许多互补的服务组成，必须部署这些服务。如果选择了计算服务的安装，则将呈现这些额外的配置提示。
- en: 'The Nova API service (`openstack-nova-api`) provides web service endpoints
    for authenticating and interacting with the OpenStack environment over HTTP or
    HTTPS. We type the IP address of the server to deploy the Nova API service on:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: Nova API服务（`openstack-nova-api`）为通过HTTP或HTTPS对OpenStack环境进行身份验证和交互提供Web服务端点。我们输入要在其上部署Nova
    API服务的服务器的IP地址：
- en: '[PRE47]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Nova includes a certificate management service (`openstack-nova-cert`). Enter
    the IP address of the server to deploy the Nova certificate management service
    on:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: Nova包括一个证书管理服务（`openstack-nova-cert`）。输入要在其上部署Nova证书管理服务的服务器的IP地址：
- en: '[PRE48]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'The Nova VNC proxy provides facilities to connect users of the Nova compute
    service to their instances running in the OpenStack cloud. Enter the IP address
    of the server to deploy the Nova VNC proxy on:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: Nova VNC代理提供了连接Nova计算服务的用户与其在OpenStack云中运行的实例的设施。输入要在其上部署Nova VNC代理的服务器的IP地址：
- en: '[PRE49]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'The `packstack` script is able to deploy one or more compute nodes. Enter a
    comma-separated list containing the IP addresses or hostnames of all the nodes
    that you wish to deploy compute services on:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '`packstack`脚本能够部署一个或多个计算节点。输入一个逗号分隔的列表，包含您希望在其上部署计算服务的所有节点的IP地址或主机名：'
- en: '[PRE50]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'A private interface must be configured to provide DHCP services on the Nova
    compute nodes. Enter the name of the private interface to use:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 必须配置私有接口以在Nova计算节点上提供DHCP服务。输入要使用的私有接口的名称：
- en: '[PRE51]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'The `Nova` network service (`openstack-nova-network`) provides network services
    for compute instances. Enter the IP address of the server to deploy the `Nova`
    network service on:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '`Nova`网络服务（`openstack-nova-network`）为计算实例提供网络服务。输入要在其上部署`Nova`网络服务的服务器的IP地址：'
- en: '[PRE52]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'A public interface must be configured to allow connections from other nodes
    and clients. Enter the name of the public interface to use:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 必须配置公共接口以允许其他节点和客户端的连接。输入要使用的公共接口的名称：
- en: '[PRE53]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'A private interface must be configured to provide DHCP services on the Nova
    network server. Enter the name of the private interface to use:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 必须配置私有接口以在Nova网络服务器上提供DHCP服务。输入要使用的私有接口的名称：
- en: '[PRE54]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'All compute instances are automatically assigned a private IP address. Enter
    the range within which these private IP addresses must be assigned:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 所有计算实例都会自动分配一个私有IP地址。输入必须分配这些私有IP地址的范围：
- en: '[PRE55]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: 'Compute instances can optionally be assigned publicly accessible floating IP
    addresses. Enter the range within which floating IP addresses will be assigned:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 计算实例可以选择分配公共可访问的浮动IP地址。输入将分配浮动IP地址的范围：
- en: '[PRE56]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'The Nova scheduler (`openstack-nova-scheduler`) is used to map compute requests
    to compute resources. Enter the IP address of the server on which you want to
    deploy the `Nova` scheduler:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: Nova调度程序（`openstack-nova-scheduler`）用于将计算请求映射到计算资源。输入要部署`Nova`调度程序的服务器的IP地址：
- en: '[PRE57]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: In the default configuration, Nova allows `overcommitment` of physical CPU and
    memory resources. This means that more of these resources can be made available
    for running instances than actually physically exist on the compute node.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在默认配置中，Nova允许对物理CPU和内存资源进行“过度承诺”。这意味着可以为运行实例提供比实际上在计算节点上物理存在的这些资源更多的资源。
- en: The amount of `overcommitment` that is permitted is configurable.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 允许的“过度承诺”量是可配置的。
- en: 'The default level of CPU `overcommitment` allows 16 virtual CPUs to be allocated
    for each physical CPU socket or core that exists on the physical compute node.
    Press *Enter* to accept the default level or enter a different value if desired:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: CPU“过度承诺”的默认级别允许为每个物理CPU插座或核心分配16个虚拟CPU。按*Enter*接受默认级别，或者输入其他值（如果需要）：
- en: '[PRE58]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: 'The default level of memory over commitment allows up to 50% more virtual memory
    to be allocated than what exists on the physical compute node. Press *Enter* to
    accept the default or enter a different value if desired:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的内存超额分配级别允许分配的虚拟内存比物理计算节点上存在的内存多50%。按*Enter*接受默认值，或者如果需要，输入不同的值：
- en: '[PRE59]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'If installation of the client tools was selected then enter the IP address
    of the server to install the client tools on when prompted:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 如果选择安装客户端工具，则在提示时输入要在其上安装客户端工具的服务器的IP地址：
- en: '[PRE60]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: OpenStack uses Horizon (`openstack-dashboard`) to provide a web-based user interface
    or dashboard for access to OpenStack services, including Cinder, Nova, Swift,
    and Keystone. If the installation of the Horizon dashboard was selected then these
    additional configuration values will be requested.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack使用Horizon（`openstack-dashboard`）提供基于Web的用户界面或仪表板，用于访问OpenStack服务，包括Cinder、Nova、Swift和Keystone。如果选择安装Horizon仪表板，则将请求这些额外的配置值。
- en: 'Enter the IP address of the server to deploy Horizon on:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 输入要在其上部署Horizon的服务器的IP地址：
- en: '[PRE61]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'To enable `HTTPS` communication with the dashboard, we enter `y` when prompted.
    Enabling this option ensures that user access to the dashboard is encrypted:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用与仪表板的`HTTPS`通信，我们在提示时输入`y`。启用此选项可确保用户访问仪表板时进行加密：
- en: '[PRE62]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: If we have already selected to install `Swift` object storage, then these additional
    configuration values will be requested.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们已经选择安装`Swift`对象存储，那么将会请求这些额外的配置值。
- en: 'Enter the IP address of the server that is to act as the Swift proxy. This
    server will act as the public link between clients and the Swift object storage:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 输入要充当Swift代理的服务器的IP地址。此服务器将充当客户端和Swift对象存储之间的公共链接：
- en: '[PRE63]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'Enter a comma-separated list of devices that the Swift object storage will
    use to store objects. Each entry must be specified in HOST/DEVICE format, where
    the Host is replaced by the IP address of the host the device is attached to,
    and Device is replaced by the appropriate path to the device:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 输入逗号分隔的设备列表，Swift对象存储将使用这些设备来存储对象。每个条目必须以HOST/DEVICE格式指定，其中Host由设备附加到的主机的IP地址替换，Device由设备的适当路径替换：
- en: '[PRE64]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: The `Swift` object storage uses zones to ensure that each replica of a given
    object is stored separately. A zone might represent an individual disk drive or
    array, a server, all the servers in a rack, or even an entire data center.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '`Swift`对象存储使用区域来确保给定对象的每个副本都是单独存储的。一个区域可以代表一个独立的磁盘驱动器或阵列，一个服务器，一个机架中的所有服务器，甚至整个数据中心。'
- en: 'When prompted, enter the number of Swift storage zones that must be defined.
    Note that the number provided must not be bigger than the number of individual
    devices specified, as follows:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在提示时，输入必须定义的Swift存储区域的数量。请注意，提供的数量不能大于指定的各个设备的数量，如下所示：
- en: '[PRE65]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: The Swift object storage relies on replication to maintain the state of objects,
    even in the event of a storage outage in one or more of the configured storage
    zones. Enter the number of replicas that Swift must keep of each object when prompted.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: Swift对象存储依赖复制来维护对象的状态，即使在一个或多个配置的存储区域中发生存储中断的情况下。在提示时输入Swift必须保留每个对象的副本数量。
- en: 'A minimum of three replicas is recommended to ensure a reasonable degree of
    fault tolerance in the object store. Note, however, that the number of replicas
    specified must not be greater than the number of storage zones, as it would result
    in one or more of the zones containing multiple replicas of the same object:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 建议至少使用三个副本来确保对象存储具有合理的容错性。但是请注意，指定的副本数量不能大于存储区域的数量，否则会导致一个或多个区域包含同一对象的多个副本：
- en: '[PRE66]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'Currently, `packstack` supports the use of either `Ext4` or `XFS` file systems
    for object storage. The default and recommended choice is `ext4`. Enter the desired
    value when prompted:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，`packstack`支持使用`Ext4`或`XFS`文件系统进行对象存储。默认和推荐的选择是`ext4`。在提示时输入所需的值：
- en: '[PRE67]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'The `packstack` utility allows us to configure the target servers to retrieve
    software packages from a number of sources. We can leave this part blank to rely
    on the nodes'' default package sources:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '`packstack`实用程序允许我们配置目标服务器以从多个来源检索软件包。我们可以将此部分留空，以依赖节点的默认软件包来源：'
- en: '[PRE68]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'At this point, we will be asked to confirm the deployment details that we provided.
    Type yes and press *Enter* to continue with the deployment. Then, it will show
    us all the information already provided during the entire phase. After verifying
    that everything is set properly, we type yes for the following question:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，我们将被要求确认我们提供的部署细节。输入yes并按*Enter*继续部署。然后，它将显示整个阶段已经提供的所有信息。在验证一切设置正确后，我们对以下问题输入yes：
- en: '[PRE69]'
  id: totrans-269
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Now, `packstack` will commence deployment. Note that when `packstack` is setting
    up SSH keys, it will prompt us to enter the root password to connect to machines
    that are not already configured to use key authentication.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，`packstack`将开始部署。请注意，当`packstack`设置SSH密钥时，它将提示我们输入根密码，以连接到尚未配置为使用密钥身份验证的机器。
- en: 'Applying the Puppet manifests to all machines involved in the deployment takes
    a significant amount of time. The `packstack` utility provides continuous updates,
    indicating which manifests are being deployed as it progresses through the deployment
    process. Once the process completes, a confirmation message will be displayed:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 将Puppet清单应用于部署中涉及的所有机器需要大量时间。`packstack`实用程序提供持续更新，指示正在部署哪些清单，随着部署过程的进行。一旦过程完成，将显示确认消息：
- en: '[PRE70]'
  id: totrans-272
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: The configuration details that we provided are also recorded in an answer file,
    which can be used to recreate the deployment in future. This answer file is stored
    in `~/answers.txt` by default.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 我们提供的配置详细信息也记录在答案文件中，可以用于将来重新创建部署。此答案文件默认存储在`~/answers.txt`中。
- en: With this step, we can say that we have nicely installed and configured OpenStack
    as a cloud-computing solution to be used inside a little infrastructure of CentOS
    7 Linux servers.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这一步，我们可以说我们已经很好地安装和配置了OpenStack作为一个云计算解决方案，用于在CentOS 7 Linux服务器的小型基础设施内使用。
- en: 'The OpenStack dashboard will be our best way to have a better and clean way
    to visualize useful information about the status of the cloud infrastructure.
    It is extremely useful for system administrators to maintain the infrastructure
    and troubleshoot the system for any issues. Here are some screenshots that show
    some of the dashboard overview pages:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: OpenStack仪表板将是我们最好的方式，以更清晰的方式可视化有关云基础设施状态的有用信息。对于系统管理员来说，这非常有用，可以维护基础设施并排除任何问题。以下是一些显示仪表板概览页面的屏幕截图：
- en: '![Installing and configuring OpenStack](img/B04674_07_18.jpg)'
  id: totrans-276
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_18.jpg)'
- en: 'Source: [http://dachary.org/?p=2969](http://dachary.org/?p=2969)'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://dachary.org/?p=2969](http://dachary.org/?p=2969)
- en: The following page presents the list of the running machines (nodes) with some
    useful information about the nodes, and also gives us some options to manage them.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的页面显示了正在运行的机器（节点）的列表，并提供了一些有关节点的有用信息，还为我们提供了一些管理它们的选项。
- en: '![Installing and configuring OpenStack](img/B04674_07_19.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_19.jpg)'
- en: 'Source: [http://assist-software.net](http://assist-software.net)'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://assist-software.net](http://assist-software.net)
- en: Then we shall see the network page that shows the topology of the network holding
    the cloud nodes.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们将看到网络页面，显示持有云节点的网络拓扑。
- en: '![Installing and configuring OpenStack](img/B04674_07_20.jpg)'
  id: totrans-282
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_20.jpg)'
- en: 'Source: [http://4.bp.blogspot.com](http://4.bp.blogspot.com)'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://4.bp.blogspot.com](http://4.bp.blogspot.com)
- en: 'There is another Nova API dashboard with a better-designed interface to be
    used for presentation and a gigantic dashboard screen used specially for monitoring
    big grid computer infrastructure. The first dashboard screen shows information
    about the API''s in use:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 另外还有一个Nova API仪表板，具有更好设计的界面，用于展示，并且有一个特别用于监视大型网格计算基础设施的巨大仪表板屏幕。第一个仪表板屏幕显示了有关正在使用的API的信息：
- en: '![Installing and configuring OpenStack](img/B04674_07_21.jpg)'
  id: totrans-285
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_21.jpg)'
- en: 'Source: [http://openstack-in-production.blogspot.com](http://openstack-in-production.blogspot.com)'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://openstack-in-production.blogspot.com](http://openstack-in-production.blogspot.com)
- en: 'The second dashboard screen shows the history of execution of those API as
    well presented log:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个仪表板屏幕显示了这些API执行的历史以及呈现的日志：
- en: '![Installing and configuring OpenStack](img/B04674_07_22.jpg)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
  zh: '![安装和配置OpenStack](img/B04674_07_22.jpg)'
- en: 'Source: [http://openstack-in-production.blogspot.com](http://openstack-in-production.blogspot.com)'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 来源：[http://openstack-in-production.blogspot.com](http://openstack-in-production.blogspot.com)
- en: References
  id: totrans-290
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考资料
- en: 'Now, let''s have a look at the references used throughout the chapter:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看一下本章中使用的参考资料：
- en: 'What is cloud computing?, IBM: [http://www.ibm.com/cloud-computing/what-is-cloud-computing.html](http://www.ibm.com/cloud-computing/what-is-cloud-computing.html)'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 什么是云计算？IBM：[http://www.ibm.com/cloud-computing/what-is-cloud-computing.html](http://www.ibm.com/cloud-computing/what-is-cloud-computing.html)
- en: 'OpenStack home page: [https://www.openstack.org/](https://www.openstack.org/)'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OpenStack主页：[https://www.openstack.org/](https://www.openstack.org/)
- en: 'OpenStack platform for Redhat: [https://access.redhat.com/documentation/en/](https://access.redhat.com/documentation/en/)'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Redhat的OpenStack平台：[https://access.redhat.com/documentation/en/](https://access.redhat.com/documentation/en/)
- en: Summary
  id: totrans-295
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter was a description of how to have an open source cloud-computing
    solution within a small or large computer infrastructure. We started by defining
    the concept of cloud computing, and then we introduced OpenStack and described
    its components in brief. We showed a practical way to set up and configure an
    OpenStack node using—by choice—all of its components.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 本章描述了如何在小型或大型计算基础设施中拥有开源云计算解决方案。我们首先定义了云计算的概念，然后介绍了OpenStack并简要描述了其组件。我们展示了一种实际的方法来设置和配置OpenStack节点，选择使用其所有组件。
- en: In the next chapter, you are going to learn automatic system configuration using
    one of the most recent tools that does this in a well-organized way—Puppet.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，您将学习使用最近的工具之一进行自动系统配置的方法，这种方法组织得很好——Puppet。
