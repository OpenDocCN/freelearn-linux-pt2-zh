["```\n$ sudo yum install gcc cpp glibc glibc-common glibc-devel glibc-headers gd gd-devel kernel-headers libgomp libmpc mpfr make net-snmp openssl-devel xinetd\n\n```", "```\n$ sudo useradd nagios\n$ sudo passwd Really_Secure_Password\n\n```", "```\n$ sudo groupadd nagcmd\n$ sudo usermod -a -G nagcmd nagios\n$ sudo usermod -a -G nagcmd apache\n\n```", "```\n$ wget http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-4.1.1.tar.gz\n\n```", "```\n$ sudo cp nagios-4.1.1.tar.gz /usr/local/\n$ cd /usr/local/\n$ sudo tar xzvf nagios-4.1.1.tar.gz\n\n```", "```\n$ cd nagios-4.1.1/\n\n```", "```\n$ sudo ./configure --with-command-group=nagcmd\n\n```", "```\n$ sudo make all\n\n```", "```\n$ sudo make install\n$ sudo make install-commandmode\n$ sudo make install-init\n$ sudo make install-config\n$ sudo make install-webconf\n\n```", "```\n$ sudo htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin\n\n```", "```\n$ cd /usr/local\n\n```", "```\n$ sudo wget http://nagios-plugins.org/download/nagios-plugins-2.1.1.tar.gz\n\n```", "```\n$ sudo tar xzvf nagios-plugins-2.1.1.tar.gz\n\n```", "```\n$ cd nagios-plugins-2.1.1/\n\n```", "```\n$ sudo ./configure --with-nagios-user=nagios --with-nagios-group=nagios --with-openssl\n\n```", "```\n$ sudo make\n\n```", "```\n$ sudo make install\n\n```", "```\n$ cd /usr/local/\n$ sudo wget http://downloads.sourceforge.net/project/nagios/nrpe-2.x/nrpe-2.15/nrpe-2.15.tar.gz\n\n```", "```\n$ sudo tar xzvf nrpe-2.15.tar.gz\n$ cd  nrpe-2.15/\n\n```", "```\n$ sudo ./configure --enable-command-args --with-nagios-user=nagios --with-nagios-group=nagios --with-ssl=/usr/bin/openssl --with-ssl-lib=/usr/lib/x86_64-linux-gnu\n\n```", "```\n$ sudo make all\n$ sudo make install\n$ sudo make install-xinetd\n$ sudo make install-plugin\n$ sudo make install-daemon\n$ sudo make install-daemon-config\n\n```", "```\n$ sudo nano /etc/xinetd.d/nrpe\n\n```", "```\nonly_from = 127.0.0.1 10.0.2.1\n\n```", "```\n$ sudo echo \"nrpe 5666/tcp # NRPE\" >> /etc/services\n\n```", "```\n$ sudo service xinetd restart\n\n```", "```\n$ sudo nano /usr/local/nagios/etc/nagios.cfg\n\n```", "```\ncfg_dir=/usr/local/nagios/etc/servers\n\n```", "```\n$ sudo mkdir /usr/local/nagios/etc/servers\n\n```", "```\n$ sudo nano /usr/local/nagios/etc/objects/contacts.cfg\n\n```", "```\nemail                           packtadmin@packt.co.uk        ; <<***** CHANGE THIS TO YOUR EMAIL ADDRESS ******\n\n```", "```\n$ sudo nano /usr/local/nagios/etc/objects/commands.cfg\n\n```", "```\ndefine command{\n command_name check_nrpe\n command_line $USER1$/check_nrpe -H $HOSTADDRESS$ -c $ARG1$\n}\n\n```", "```\n$ sudo nano /etc/httpd/conf.d/nagios.conf\n\n```", "```\nOrder allow,deny\nAllow from all\n\n```", "```\n#  Order deny,allow\n#  Deny from all\n#  Allow from 127.0.0.1\n\n```", "```\nAllow from 127.0.0.1 10.0.2.0/24\n\n```", "```\n$ /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg\n\n```", "```\n$ sudo nano /etc/selinux/config\n\n```", "```\nSELINUX=permissive\n\n```", "```\n$ sudo systemctl start nagios.service\n$ sudo systemctl enable nagios.service\n$ sudo systemctl restart httpd.service\n\n```", "```\n$ sudo yum install epel-release\n\n```", "```\n$ sudo yum install nrpe nagios-plugins-all openssl\n\n```", "```\n$ sudo nano /etc/nagios/nrpe.cfg\n\n```", "```\nallowed_hosts=127.0.0.1,10.0.2.1\n\n```", "```\n$ sudo systemctl start nrpe.service\n$ sudo systemctl enable nrpe.service\n\n```", "```\n$ sudo nano /usr/local/nagios/etc/servers/packtserver1.cfg\n\n```", "```\ndefine host {\n use                             linux-server\n host_name                       packtserver1\n alias                           Packt Apache server\n address                         10.0.2.12\n max_check_attempts              5\n check_period                    24x7\n notification_interval           30\n notification_period             24x7\n}\n\n```", "```\n$ sudo nano /usr/local/nagios/etc/servers/packtserver1.cfg\n\ndefine service {\n use                             generic-service\n host_name                       packtserver1\n service_description             SSH\n check_command                   check_ssh\n command_line  $USER1$/check_ssh $ARG1$ $HOSTADDRESS$\n notifications_enabled           0\n}\n\ndefine service {\n use                             generic-service\n host_name                       packtserver1\n service_description             HTTP\n check_command                   check_http\n command_line  $USER1$/check_http -I $HOSTADDRESS$ $ARG1$\n notifications_enabled           0\n}\n\ndefine service {\n use                             generic-service\n host_name                       packtserver1\n service_description             PING\n check_command                   check_ping!100.0,20%!500.0,60%\n}\n\n```", "```\n$ sudo systemctl reload nagios.service\n\n```", "```\n$ sudo systemctl stop sshd.service\n\n```", "```\n$ sudo systemctl start sshd.service\n\n```", "```\n$ sudo nano /etc/xinetd.d/nrpe\n\n```", "```\nonly_from       = 127.0.0.1 10.0.2.1\n\n```", "```\n$ sudo nano /etc/services\n\n```", "```\nnrpe 5666/tcp # NRPE\n\n```", "```\n$ sudo systemctl restart Xinetd\n\n```", "```\n$ sudo /usr/lib/nagios/plugins/check_users -w 5 -c 10\n$ sudo /usr/lib/nagios/plugins/ check_load -w 15,10,5 -c 30,25,20\n$ sudo /usr/lib/nagios/plugins/check_disk -w 20% -c 10% -p /dev/sda1\n\n```", "```\n$ sudo yum install epel-release\n\n```", "```\n$ sudo yum repolist\n\n```", "```\n$ sudo yum check-update\n\n```", "```\n$ sudo yum list *syslog-ng*\n\n```", "```\n$ sudo yum install syslog-ng syslog-ng-libdbi\n\n```", "```\n$ sudo systemctl stop rsyslog\n$ sudo systemctl disable rsyslog\n\n```", "```\n$ sudo nano /etc/syslog-ng/syslog-ng.conf\n\n```", "```\n@version:3.5\n@include \"scl.conf\"\n#----------------------------------------------------------------------------\n# /etc/syslog-ng/syslog-ng.conf: configuration file\n# $Revision: 0.3-r5 (CentOS Edition by Wakko Warner) $\n# $Comment: Any comments please send to wakko@acmelabs.spb.ru $\n#----------------------------------------------------------------------------\n\n# Note: it also sources additional configuration files (*.conf)\n#       located in /etc/syslog-ng/conf.d/\n\n# Global Options\noptions {\n  # Enable or disable the chained hostname format\n  chain_hostnames (off);\n  # The number of lines buffered before written to file\n  flush_lines (0);\n  log_fifo_size (1000);\n  # The default action of syslog-ng is to log a STATS line\n  # to the file every 10 minutes.  That's pretty ugly after a while.\n  # Change it to every 12 hours so you get a nice daily update of\n  # how many messages syslog-ng missed (0).\n  stats_freq (43200);\n  time_reopen (10);\n  # The default action of syslog-ng is to log a MARK line\n  # to the file every 20 minutes.  That's seems high for most\n  # people so turn it down to once an hour.  Set it to zero\n  # if you don't want the functionality at all.\n  mark_freq(3600);\n  # Enable or disable hostname rewriting\n  keep_hostname (yes);\n  # Enable or disable directory creation for destination files\n  create_dirs (yes);\n  # userid/groupid/permission value for files\n  owner (\"root\");\n  group (\"adm\");\n  perm (0640);\n  # userid/groupid/permission value for directories\n  dir_owner (\"root\");\n  dir_group (\"adm\");\n  dir_perm (0750);\n  # Enable or disable DNS usage\n  use_dns (no);\n  # Add Fully Qualified Domain Name instead of short hostname\n  use_fqdn (no);\n  long_hostnames (off);\n};\n\nsource s_sys {\n    system();\n    internal();\n    # udp(ip(0.0.0.0) port(514));\n};\n\n# Sources of syslog messages (both local and remote messages on the server)\nsource s_local {\n  system();\n  internal();\n};\nsource s_tcp { tcp (ip (\"127.0.0.1\") port (514) max-connections (1) ); };\nsource s_udp { udp (ip (\"0.0.0.0\") port (514)); };\n\n# By default messages are logged to tty12...\n#destination d_console_all { file(\"/dev/tty12\"); };\n# ...if you intend to use /dev/console for programs like xconsole\n# you can comment out the destination line above that references /dev/tty12\n# and uncomment the line below.\n#destination d_console_all { file(\"/dev/console\"); };\n#destination d_console_all { file(\"/dev/null\"); };\ndestination d_console_all { program(\"/bin/cat >/dev/null\"); };\n\n# Destinations\ndestination d_usertty { usertty(\"*\"); };\ndestination d_everything {\n  file(\"/var/log/syslog-$HOST/$YEAR-$MONTH/$FACILITY.$PRIORITY.log\"\n    template(\"$FULLDATE $MSGHDR$MSG\\n\")\n    template_escape(no)\n  );\n};\n\n# Filters\nfilter f_emergency { level(emerg); };\nfilter f_fetchmail_warnings {\n  not(match(\"fetchmail\" value(\"PROGRAM\"))\n  and match(\"Warning: the connection is insecure, continuing anyways.\" value(\"MESSAGE\")));\n};\n\nlog {\n  source(s_local);\n  filter(f_emergency);\n  destination(d_usertty);\n};\nlog {\n  source(s_local);\n  filter(f_fetchmail_warnings);\n  destination(d_everything);\n};\nlog {\n  source(s_local);\n  filter(f_fetchmail_warnings);\n  destination(d_console_all);\n};\n\nlog {\n  source(s_tcp);\n  destination(d_everything);\n};\nlog {\n  source(s_tcp);\n  destination(d_console_all);\n};\n\nlog {\n  source(s_udp);\n  destination(d_everything);\n};\nlog {\n  source(s_udp);\n  destination(d_console_all);\n};\n\n# Source additional configuration files (.conf extension only)\n@include \"/etc/syslog-ng/conf.d/*.conf\"\n\n# vim:ft=syslog-ng:ai:si:ts=4:sw=4:et:\n```", "```\n$ sudo systemctl start syslog-ng.service\n$ sudo systemctl enable syslog-ng.service\n\n```"]