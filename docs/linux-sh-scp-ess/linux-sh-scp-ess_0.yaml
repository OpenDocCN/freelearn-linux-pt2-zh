- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: The shell on a GNU/Linux system is arguably the most powerful tool for any user.
    In general terms, the shell serves as an interface between the system's user and
    the operating system kernel. We use the shell to run commands in order to perform
    tasks and frequently save the output to files. While these simple use-case are
    easy to achieve by just using some commands on the shell, sometimes the task at
    hand is more complex than that.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: GNU/Linux系统上的shell可以说是任何用户最强大的工具。一般来说，shell充当系统用户和操作系统内核之间的接口。我们使用shell来运行命令以执行任务，并经常将输出保存到文件中。虽然这些简单的用例可以通过在shell上使用一些命令轻松实现，但有时手头的任务可能比这更复杂。
- en: Enter shell scripting, the magical tool that allows you to write step-by-step
    instructions to the shell on how to perform a complex task. However, just learning
    the syntax to write scripts is not enough unless you know the commands at your
    disposal. Only then would scripts be reusable, efficient, and easy to use. When
    one has mastered the commands available on a GNU/Linux system, what follows is
    a frenzy to automate daily tasks—be it finding documents or cleaning up old movies
    that have long been watched. Whether you're an expert with other scripting languages
    or you're doing this for the first time, this book will show you how to do magic
    with shell scripts!
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 进入shell脚本编写，这是一种神奇的工具，它允许您向shell编写逐步说明，告诉它如何执行复杂的任务。然而，除非您知道可以使用的命令，否则仅仅学习编写脚本的语法是不够的。只有这样，脚本才能被重复使用，高效且易于使用。当一个人掌握了GNU/Linux系统上可用的命令后，接下来就是疯狂地自动化日常任务——无论是查找文档还是清理早已观看过的旧电影。无论您是其他脚本语言的专家，还是第一次尝试，本书都将向您展示如何使用shell脚本做魔术！
- en: What this book covers
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](ch01.html "Chapter 1. The Beginning of the Scripting Journey"),
    *The Beginning of the Scripting Journey*, tells you about the importance of writing
    shell scripts along with a simple Hello World shell script program. It also covers
    the basic and essential shell script topics such as defining a variable, built-in
    variables, and operators. It also contains a detailed explanation of shell expansion
    that occurs with characters such as ~, *, ?, [], and {}.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章. 脚本编写之旅的开始"), *脚本编写之旅的开始*，告诉您编写shell脚本的重要性，以及一个简单的Hello
    World shell脚本程序。它还涵盖了定义变量，内置变量和运算符等基本和必要的shell脚本主题。它还包含了有关shell扩展的详细解释，这些扩展发生在字符（如~，*，？，[]和{}）中。'
- en: '[Chapter 2](ch02.html "Chapter 2. Getting Hands-on with I/O, Redirection Pipes,
    and Filters"), *Getting Hands-on with I/O, Redirection Pipes, and Filters*, talks
    about the standard input, output, and error streams for a command and shell script.
    It also has instructions on how to redirect them to other streams. One of the
    most powerful concepts, namely regular expressions, is also covered. It serves
    as instructions to commands such as `grep`, `sed`, `uniq`, and `tail` for filtering
    useful data from input data.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html "第2章. I/O，重定向管道和过滤器的实践"), *I/O，重定向管道和过滤器的实践*，讨论了命令和shell脚本的标准输入，输出和错误流。它还介绍了如何将它们重定向到其他流的方法。还涵盖了正则表达式等最强大的概念。它为`grep`，`sed`，`uniq`和`tail`等命令提供了过滤输入数据中有用数据的指导。'
- en: '[Chapter 3](ch03.html "Chapter 3. Effective Script Writing"), *Effective Script
    Writing*, provides an insight into structuring shell scripts to organize tasks.
    After talking about script exit codes, it talks about basic programming constructs
    such as conditionals and loops. It then goes on to discuss the organization of
    code into functions and aliases. Finally, it wraps up with details on how `xargs`,
    `pushd`, and `popd` works.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](ch03.html "第3章. 有效的脚本编写"), *有效的脚本编写*，提供了关于构建shell脚本以组织任务的见解。在讨论脚本退出代码之后，它讨论了基本的编程结构，如条件和循环。然后讨论了代码组织成函数和别名的方法。最后，它详细介绍了`xargs`，`pushd`和`popd`的工作原理。'
- en: '[Chapter 4](ch04.html "Chapter 4. Modularizing and Debugging"), *Modularizing
    and Debugging*, talks about making shell scripts modular by using common code
    that can be sourced. It also covers the details of command line arguments to scripts
    and how one can debug their scripts when they malfunction. This chapter also contains
    information on how the user can implement custom command completion.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章. 模块化和调试"), *模块化和调试*，讨论了通过使用可以被引用的通用代码使shell脚本模块化。它还涵盖了脚本的命令行参数的详细信息，以及当脚本出现故障时如何调试。本章还包含了用户如何实现自定义命令完成的信息。'
- en: '[Chapter 5](ch05.html "Chapter 5. Customizing the Environment"), *Customizing
    the Environment*, moves on to talk about the shell environment - what it contains,
    its significance, and finally how to modify it. It also takes the reader through
    the different initialization files that bash uses at startup. Finally, we talk
    about how to check command history and manage running tasks.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章. 自定义环境"), *自定义环境*，继续讨论shell环境-它包含的内容，其重要性，以及最终如何修改它。它还带领读者了解bash在启动时使用的不同初始化文件。最后，我们讨论了如何检查命令历史记录和管理运行任务。'
- en: '[Chapter 6](ch06.html "Chapter 6. Working with Files"), *Working with Files*,
    talks about files, which are the entities that most of any UNIX system is composed
    of. It covers the basic philosophy of "everything is a file" and takes the reader
    through basic file operations, comparing files, finding them, and creating links.
    This chapter then explains what special files and temporary files are, and the
    details involved in file permissions.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](ch06.html "第6章. 文件操作"), *文件操作*，讨论了文件，这是任何UNIX系统的主要组成部分。它涵盖了“一切皆为文件”的基本理念，并带领读者了解基本文件操作，比较文件，查找文件和创建链接。本章还解释了特殊文件和临时文件的概念，以及文件权限的详细信息。'
- en: '[Chapter 7](ch07.html "Chapter 7. Welcome to the Processes"), *Welcome to the
    Processes*, talks about executable files that come alive—and become processes.
    From listing and monitoring running processes, it goes on to talk about how to
    exploit process substitution. Next, it covers process scheduling priorities, signals,
    traps, and how processes can communicate with each other.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ch07.html "第7章。欢迎来到进程")，“欢迎来到进程”，讨论了活跃的可执行文件，以及它们如何成为进程。从列出和监视运行中的进程，它继续讨论如何利用进程替换。接下来，它涵盖了进程调度优先级、信号、陷阱，以及进程如何相互通信。'
- en: '[Chapter 8](ch08.html "Chapter 8. Scheduling Tasks and Embedding Languages
    in Scripts"), *Scheduling Tasks and Embedding Languages in Scripts*, discusses
    scheduling tasks at appropriate times by using the system Cron. Next, it covers
    systems that are responsible for orchestrating startup tasks in most modern Linux
    systems. Finally, this chapter contains instructions on how to embed scripts from
    other scripting languages into a shell script.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](ch08.html "第8章。调度任务和嵌入脚本语言")，“调度任务和嵌入脚本语言”，讨论了通过使用系统Cron在适当的时间安排任务。接下来，它涵盖了负责在大多数现代Linux系统中编排启动任务的系统。最后，本章包含了如何将其他脚本语言的脚本嵌入到shell脚本中的说明。'
- en: What you need for this book
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 您需要为本书准备什么
- en: The reader doesn't require any previous knowledge to understand this book, though
    some familiarity with Linux will help. On the software side, a recent enough Linux
    distribution with bash 4 should be able to try out all examples in this book.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 读者不需要任何先前的知识来理解本书，尽管对Linux有一些熟悉会有所帮助。在软件方面，具有足够新的Linux发行版和bash 4的系统应该能够尝试本书中的所有示例。
- en: Who this book is for
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合对象
- en: This book is aimed at administrators and those who have the basic knowledge
    of shell scripting and want to learn how to get the most out of writing shell
    scripts.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向管理员和那些具有基本shell脚本知识并希望学习如何充分利用编写shell脚本的人。
- en: Conventions
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您会发现许多文本样式，用于区分不同类型的信息。以下是这些样式的一些示例及其含义的解释。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "We
    can also use the `printf` command in shell programming for printing."'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter句柄显示如下：“我们还可以在shell编程中使用`printf`命令进行打印。”
- en: 'A block of code is set as follows:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都以以下形式编写：
- en: '[PRE1]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要提示显示在这样的框中。
- en: Tip
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 技巧和窍门看起来像这样。
- en: Reader feedback
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or disliked. Reader feedback is important for us as it
    helps us develop titles that you will really get the most out of.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。请告诉我们您对本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们很重要，因为它可以帮助我们开发出您真正能够充分利用的标题。
- en: To send us general feedback, simply e-mail `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book's title in the subject of your message.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 要向我们发送一般反馈，只需发送电子邮件至`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，并在主题中提及书名。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide at [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个专题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您是Packt书籍的自豪所有者，我们有许多事情可以帮助您充分利用您的购买。
- en: Downloading the example code
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码
- en: You can download the example code files from your account at [http://www.packtpub.com](http://www.packtpub.com)
    for all the Packt Publishing books you have purchased. If you purchased this book
    elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从您在[http://www.packtpub.com](http://www.packtpub.com)的帐户中下载您购买的所有Packt Publishing图书的示例代码文件。如果您在其他地方购买了本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便直接通过电子邮件接收文件。
- en: Errata
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **Errata Submission Form** link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽一切努力确保内容的准确性，但错误确实会发生。如果您在我们的书中发现错误——也许是文本或代码中的错误——我们将不胜感激，如果您能向我们报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书，点击**勘误提交表格**链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并且勘误将被上传到我们的网站或添加到该标题的勘误部分的任何现有勘误列表中。
- en: To view the previously submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the **Errata** section.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看先前提交的勘误表，请访问[https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需信息将出现在**勘误**部分。
- en: Piracy
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyrighted material on the Internet is an ongoing problem across
    all media. At Packt, we take the protection of our copyright and licenses very
    seriously. If you come across any illegal copies of our works in any form on the
    Internet, please provide us with the location address or website name immediately
    so that we can pursue a remedy.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上侵犯版权的盗版行为是跨所有媒体持续存在的问题。在Packt，我们非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`与我们联系，并附上涉嫌盗版材料的链接。
- en: We appreciate your help in protecting our authors and our ability to bring you
    valuable content.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您帮助保护我们的作者和我们为您提供有价值内容的能力。
- en: Questions
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: If you have a problem with any aspect of this book, you can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`,
    and we will do our best to address the problem.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对本书的任何方面有问题，可以通过`<[questions@packtpub.com](mailto:questions@packtpub.com)>`与我们联系，我们将尽力解决问题。
