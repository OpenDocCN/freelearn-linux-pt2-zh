- en: Chapter 4. Account Provisioning
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Creating users and groups is one of the most important and basic tasks for
    system administrators. Before learning more advanced concepts, it''s essential
    to know how to deal with user''s accounts and groups.*'
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter we will learn the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Finding out the current user
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Becoming the root user
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changing a user's password
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding a new user
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding a new group
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding a user to a specific group
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changing user privileges
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Who am I?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A user account is required for accessing Linux Mint. Actually, when you installed
    the operating system, you typed some data about a user, and his or her account
    was created. Sometimes the system administrator needs to become a different user
    of the system, so it's interesting to know which user is currently using the shell.
    We're going to explain how to do that.
  prefs: []
  type: TYPE_NORMAL
- en: Time for action – finding out the current user
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before proceeding, you should launch the **MATE Terminal** application.
  prefs: []
  type: TYPE_NORMAL
- en: 'Type the following command in the shell:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'As the output of the previously executed command, you''ll get the name of the
    user who is currently using the shell; in our case it will be the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '*What just happened?*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You have learned how to use the `whoami` command for identifying which user
    is currently logged in and using the shell. This command is pretty simple, and
    it just returns the username without additional information.
  prefs: []
  type: TYPE_NORMAL
- en: Becoming the root user
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Each GNU/Linux operating system works with a super user called **root**. This
    is a special user of the operating system that is used by the system administrator.
    The root user has all kinds of permissions over files and programs. Actually,
    some specific operations can only be executed through this user.
  prefs: []
  type: TYPE_NORMAL
- en: Linux Mint doesn't enable the root user by default. However, Mint uses special
    commands that allow users to become the root user. This means that regular users
    can execute actions that were initially reserved for the root user. Also, Mint
    configures the `sudo` command, allowing the user created during the installation
    process to become the root user.
  prefs: []
  type: TYPE_NORMAL
- en: Time for action – using the sudo command to become the root user
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We''re going to use the `sudo` command for becoming the root user using the
    shell:'
  prefs: []
  type: TYPE_NORMAL
- en: Open the **MATE Terminal** application.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Type the following command and press the *Enter* key when you''re ready:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'A new prompt message will be displayed, asking you about your password:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Type in your password and press the *Enter* key, and you''ll get a new prompt
    like the following one; the current user is root:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '*What just happened?*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The `sudo` command allows you to execute a command as another user. Linux Mint
    is configured by default to allow the user created during the installation process
    to become the root user directly. You only need to execute the `sudo` command,
    passing `su -` as a parameter. The first parameter identifies the root user and
    the second one indicates that Bash initialization files for `root` should be executed.
    Keep in mind that the `sudo` command will ask you for the password of the user
    that is executing that command.
  prefs: []
  type: TYPE_NORMAL
- en: Surely you must have realized that the prompt is different after becoming `root`.
    The `#` symbol is used for indicating that the current user is `root` instead
    of the `$` character, which is used for regular users of the system.
  prefs: []
  type: TYPE_NORMAL
- en: Have a go hero – executing the whoami command after becoming the root user
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Try to execute the `whoami` command after becoming `root` to check the current
    user. The output of that command will be `root`.
  prefs: []
  type: TYPE_NORMAL
- en: Changing password
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In some cases, system administrators need to change the password of a user.
    For example, when a user forgets his password, he can ask for a new one to the
    system administrator.
  prefs: []
  type: TYPE_NORMAL
- en: A password should be provided when a user is created, but each user should change
    their password when accessing the system for the first time.
  prefs: []
  type: TYPE_NORMAL
- en: The process of changing your own password is not hard; you can do it through
    a simple application that is installed by default in Linux Mint.
  prefs: []
  type: TYPE_NORMAL
- en: Time for action – changing the password for a user
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Each user of the system can change their own password using a GUI application
    provided by Linux Mint. We're going to learn how to do that.
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **Menu** button and click again on the **All Applications** button
    located on the right-hand side of the **Favorites** pane.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **Administration** menu option.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A set of new options will be displayed, so you only need to click on the **Users
    and Groups** menu option as shown in the following screenshot:![Time for action
    – changing the password for a user](img/9601_04_01.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: After clicking on **Users and Groups**, a dialog box asking for your password
    will be displayed. Type your password and click on the **Authenticate** button:![Time
    for action – changing the password for a user](img/9601_04_02.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A new window will be displayed if your password is correct. This is the Linux
    Mint application for dealing with users and groups:![Time for action – changing
    the password for a user](img/9601_04_03.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Click on the **Change...** button close to the **Password: Asked on login**
    option.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The following window allows you to change your password. First, you should type
    your current password. Then you can select the **Set password by hand** option
    and type your new password in the **New password** and **Confirmation** input
    boxes. When you're ready, click on the **OK** button:![Time for action – changing
    the password for a user](img/9601_04_04.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Right now, a dialog box asking for your confirmation will be displayed; click
    on **Yes** and your password will be changed.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*What just happened?*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Changing your password is pretty simple, thanks to the GUI application provided
    by Linux Mint. Behind the scenes, Mint calls the `passwd` command for applying
    your changes, allowing you to change your password.
  prefs: []
  type: TYPE_NORMAL
- en: The **Users and Groups** application allows you to perform more operations related
    to users and groups. Some of these operations only can be executed by `root`,
    so you should authenticate this user before proceeding.
  prefs: []
  type: TYPE_NORMAL
- en: In the same dialog used for changing your password, you also can choose whether
    you want to be logged in with/without using a password. On the other hand, a random
    password can automatically be generated by the application. You only need to select
    the **Generate random password** option and then click on the **Generate** button.
  prefs: []
  type: TYPE_NORMAL
- en: Have a go hero – using passwd command
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can change your password directly at the command line through the `passwd`
    command. Just type the command and follow the instructions on the screen.
  prefs: []
  type: TYPE_NORMAL
- en: Also, you can change the password for another user. In order to do that, you
    must become the root user and execute the `passwd` command, passing the username
    of the user whose password needs to be changed as an argument.
  prefs: []
  type: TYPE_NORMAL
- en: Adding a new user
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As system administrator, one of the most common tasks is to create new users
    for the system. It's an easy task, thanks to the **Users and Groups** application
    included in Linux Mint. You're now going to discover how to create a new user.
  prefs: []
  type: TYPE_NORMAL
- en: Time for action – changing the password for a user
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We need to launch the **Users and Groups** application, so make sure this application
    is running. Our purpose is to create a new user called `Luke`, whose username
    will be `luke`.
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **Add** button located on the left-hand side of the main window.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A dialog box will be displayed; type in your password and click on the **Authenticate**
    button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Right now you can see a new window with two different input boxes, one for the
    name and another for the username. Type `Luke` for the first one and `luke` for
    the second one. Click on the **OK** button when you are ready:![Time for action
    – changing the password for a user](img/9601_04_05.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A new window will be displayed, asking you about choosing a password for the
    new user. Type a new password or select the **Generate random password** option.
    Click on the **OK** button to continue.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: As a result, you will see that the new user is displayed on the user's list
    of the system:![Time for action – changing the password for a user](img/9601_04_06.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you observe the data of the new user, you'll discover a message informing
    you that the account for the new user is disabled, so we need to activate it by
    clicking on the **Enable Account** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: After clicking on the **Enable Account** button, a window for changing the password
    will be displayed. Change the password again and click on the **OK** button. Now,
    the account is enabled.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*What just happened?*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We've just created a new user account by following a simple process. The GUI
    is pretty intuitive and allows us to choose a name and username for the new user.
    Each user should have a password, so we need to type one for the new user. For
    security reasons, new accounts are disabled, and you must activate each account,
    changing the password.
  prefs: []
  type: TYPE_NORMAL
- en: Have a go hero – try to delete a user
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Also, you can delete user accounts through the **Delete** button associated
    with each listed user of the **Users and Groups** tool. If you click on that button,
    a new dialog is displayed asking for your confirmation about deleting the specified
    user.
  prefs: []
  type: TYPE_NORMAL
- en: Adding a new group
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In GNU/Linux systems, users can be categorized into groups. Basically, a **group**
    is a set of users who share permissions. Groups allow system administrators to
    work with users in an organized way. For example, a specific group can have access
    to certain directories. This means that all users belonging to that group can
    access these specific directories.
  prefs: []
  type: TYPE_NORMAL
- en: Linux Mint uses many groups by default; some of them are **audio**, **backup**,
    **games**, **irc**, and **lp**. Also, it's possible to create additional custom
    groups. We'll learn how to do that.
  prefs: []
  type: TYPE_NORMAL
- en: Time for action – creating a new group called develop
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We'll continue using the GUI application for managing users and groups, so make
    sure it's running before continuing. We'll create a new group called `develop`.
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **Manage Groups** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A new window showing all the existing groups will be displayed. Click on the
    **Add** button to continue.![Time for action – creating a new group called develop](img/9601_04_07.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type in your password and click on the **Authenticate** button. Right now you
    can see a new window called **New group**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type `develop` in the **Group name** input box and click on the **OK** button,
    as shown in the following screenshot:![Time for action – creating a new group
    called develop](img/9601_04_08.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: As a result, you can see how the newly developed group is displayed in the list
    of existing groups.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*What just happened?*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The window for creating a new group allows us to choose a group name and group
    ID for it. This number identifies each group and must be different for each group
    created in the system. Linux Mint will choose a group ID by default for every
    new group, but you can choose a different number as well.
  prefs: []
  type: TYPE_NORMAL
- en: When you're creating a new group, it's also possible to add users to it directly.
    A list of users will be displayed so you can select some of them, and Mint will
    add this user to a new group automatically.
  prefs: []
  type: TYPE_NORMAL
- en: Have a go hero – try to delete a group
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Deleting a group is pretty easy; you only need to select a group and click on
    the **Delete** button. Before taking this action, you'll need to confirm the delete
    operation. Don't forget that you need to click on the **Manage Groups** button
    to access the list of groups on the system.
  prefs: []
  type: TYPE_NORMAL
- en: Adding a user to a group
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you need to add a user to a group, you can do it easily. You only need to
    access group properties and choose which users should belong to the specified
    group.
  prefs: []
  type: TYPE_NORMAL
- en: Time for action – adding the user luke to the develop group
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once more, make sure the **Users and Groups** tool is running. We're going to
    add the user **luke** to the **develop** group, which was created previously.
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **Manage Groups** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **develop** group and click on the **Properties** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A new window shows you the properties of the selected group, including a list
    of users. Select **luke** from the list and click on the **OK** button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Authenticate with your password on the modal window, and click on the **Authenticate**
    button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The user **luke** has been added to the **develop** group.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*What just happened?*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: While accessing group properties, we have the choice of adding users to a group.
    You can select one or more users from the list of existing users displayed in
    the properties window of the selected group.
  prefs: []
  type: TYPE_NORMAL
- en: Changing user privileges
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Linux and Unix operating systems use the concept of **user privilege**, which
    is a right or authorization to execute an action. Therefore, users need **privileges**
    or **permissions** for either creating or deleting a file, accessing a printer,
    or executing a command.
  prefs: []
  type: TYPE_NORMAL
- en: The operating system provides a set of users and groups with some permissions
    over files, directories, and devices. However, system administrators can modify
    this default configuration. Also, it's possible to assign specific permissions
    for custom users and groups.
  prefs: []
  type: TYPE_NORMAL
- en: Mint provides a graphic tool for managing user privileges easily. We'll learn
    how to use it.
  prefs: []
  type: TYPE_NORMAL
- en: Time for action – granting permissions to a user for monitoring system logs
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We''re going to grant access for monitoring system logs to our user **luke**.
    This is a simple example to illustrate how to change user privileges. Obviously,
    you can apply similar steps for changing different permissions:'
  prefs: []
  type: TYPE_NORMAL
- en: Launch the **Users and Groups** tool.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the user **luke** from the users list, and click on the **Advanced Settings**
    button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Type your password when the dialog box asks for it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: After clicking on the **OK** button, select the **User Privileges** tab.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now you have a list of privileges that can be granted to or revoked from the
    user **luke**. Select **Monitor system logs** and click on the **OK** button,
    as shown in the following screenshot:![Time for action – granting permissions
    to a user for monitoring system logs](img/9601_04_09.jpg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: At this point, the user **luke** is ready to read the special files used for
    monitoring the system.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*What just happened?*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The advanced settings for each user provided by the **User and Groups** tools
    allow you to manage permissions in a very easy and efficient way. You have a list
    of privileges that can be applied for each user. Natural language is used, so
    you don't need to know advanced concepts to assign permissions to users.
  prefs: []
  type: TYPE_NORMAL
- en: Have a go hero – using command line for changing permissions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Although Mint offers you a graphic tool for working with user privileges, you
    can use the shell for the same purpose. One of the most useful commands is `chmod`,
    which allows you to change permissions for files and directories. Also, thanks
    to the `chown` command, you can decide who the owner is of a specific file or
    directory.
  prefs: []
  type: TYPE_NORMAL
- en: If you're interested in both commands, you should use the `man` and `info` commands
    to get more information about `chmod` and `chown` commands.
  prefs: []
  type: TYPE_NORMAL
- en: For permissions and users, Mint provides three predefined account types, namely
    **Custom** , **Administrator** , and **desktop user** . You can choose one of
    these for each user; the **Account type** option provides access to this functionality.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter you learned the basic operations for account provisioning.
  prefs: []
  type: TYPE_NORMAL
- en: 'Specifically, we covered:'
  prefs: []
  type: TYPE_NORMAL
- en: Discovering the current user
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to create users and groups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding a user to a group
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Becoming the root user
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changing the user's password
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changing user privileges
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: At this point, you've learned basic concepts and ideas about how to work with
    the shell and how to provision user accounts. Now it's time to learn about something
    very important in the daily work of a system administrator—how to install and
    configure software.
  prefs: []
  type: TYPE_NORMAL
